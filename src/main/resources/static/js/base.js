
$('.select').on('blur', function () {
        $(this).find('.select-ul').hide();
    })
    //下拉框点击出现下拉框内容
$('.select-div').on('click', function () {
    if ($(this).siblings('.select-ul').is(":hidden")) {
        $(this).siblings('.select-ul').show();
    } else {
        $(this).siblings('.select-ul').hide();
    }
})


$('.select-ul').on('click', 'li', function () {
    $(this).addClass('active').siblings('li').removeClass('active').parent().hide().siblings('.select-div').html($(this).html());
    var parentDiv = $(this).parent().parent().parent();
})

//鼠标滑动到按钮，按钮内容变成白色
var imgName;
$('.title-box').children('button').hover(function () {
    imgName = $(this).children('img').attr('src').split('.png')[0];
    $(this).children('img').attr('src', imgName + '_on.png');
}, function () {
    $(this).children('img').attr('src', imgName + '.png');

});


//发送卡拓扑图
function tuopu() {
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('tuopu'));

    var nodes = [{
        x: 0,
        y: 600,
        nodeName: '控制卡',
        name: '控制卡',
        type: '播放器',
        svgPath: 'M887.552 546.10944c-28.16 0-54.21056 8.576-75.97056 23.168l-140.22144-153.6a237.55264 237.55264 0 0 0 79.54944-176.768C750.7712 107.02336 643.8912 0.14336 512 0 380.1088 0.14336 273.2288 107.02336 273.09056 238.91456c0 67.84 28.672 128.768 74.24 172.35456L203.52 564.41856a134.60992 134.60992 0 0 0-67.01056-18.304C61.12256 546.18112 0.03584 607.29856 0 682.68544 0 757.95456 61.25056 819.2 136.50944 819.2c75.38688-0.03584 136.50432-61.12256 136.576-136.51456 0-26.112-7.68-50.176-20.48-70.97344l151.10656-161.024a234.73152 234.73152 0 0 0 74.17856 23.68v281.41056a136.448 136.448 0 0 0-102.4 131.712c0 75.264 61.184 136.50944 136.50944 136.50944 75.3664-0.07168 136.44288-61.14816 136.50944-136.50944 0-63.42144-43.648-116.41856-102.4-131.712V474.368c24.00256-3.456 46.78144-10.17344 67.84-20.29056l152.38656 166.85056c-9.53856 18.688-15.36 39.424-15.36 61.75744 0 75.264 61.184 136.51456 136.576 136.51456 75.41248-2.82624 134.25152-66.2528 131.42528-141.66528-2.68288-71.44448-59.9808-128.7424-131.42528-131.42528z m-751.03744 204.8c-37.69856 1.13664-69.17632-28.50304-70.31808-66.19648S94.69952 615.53664 132.39296 614.4c1.39264-0.04096 2.7904-0.04096 4.18304 0 37.71392 0.01536 68.2752 30.60224 68.25984 68.31616-0.01536 37.69344-30.5664 68.24448-68.25984 68.25984l-0.06144-0.06656z m204.8-512c0.1024-94.21312 76.47232-170.55232 170.68544-170.61888 94.21312 0.07168 170.58304 76.41088 170.68544 170.624C682.61888 333.15328 606.23872 409.52832 512 409.6c-94.23872-0.07168-170.61888-76.44672-170.68544-170.69056z m238.976 648.576c-0.01536 37.71392-30.60736 68.2752-68.32128 68.25472-37.71392-0.01536-68.2752-30.60736-68.25472-68.32128 0.01536-37.71392 30.60224-68.2752 68.31616-68.25984 37.69344 0.01536 68.24448 30.5664 68.25984 68.25984v0.06656z m307.2-136.576c-37.67296-0.03584-68.21888-30.55104-68.29056-68.224 0-37.71392 30.57152-68.28544 68.29056-68.28544 37.71392 0 68.29056 30.57152 68.28544 68.29056 0 37.68832-30.53568 68.25472-68.224 68.28544l-0.06144-0.06656z',
        symbolSize: 70,

    }, {
        x: 200,
        y: 1000,
        nodeName: 'SENDER1',
        name: 'SENDER1',
        type: '发送卡',
        svgPath: 'M1172.985723 682.049233l-97.748643-35.516964a32.583215 32.583215 0 0 0-21.830134 61.582735l25.7398 9.123221-488.744218 238.181638L115.670112 741.349163l47.245961-19.223356a32.583215 32.583215 0 0 0-22.808051-60.604819l-119.579777 47.896905a32.583215 32.583215 0 0 0 0 59.952875l557.820313 251.540496a32.583215 32.583215 0 0 0 27.695632 0l570.527227-278.584184a32.583215 32.583215 0 0 0-3.258721-59.952875z,M1185.041693 482.966252l-191.587622-68.749123a32.583215 32.583215 0 1 0-21.831133 61.254764l118.927833 43.010323-488.744218 237.855666-471.474695-213.744727 116.973-47.244961a32.583215 32.583215 0 1 0-24.111938-60.604819l-190.609705 75.593537a32.583215 32.583215 0 0 0-20.528246 29.650465 32.583215 32.583215 0 0 0 20.528246 30.30141l557.819313 251.866468a32.583215 32.583215 0 0 0 27.695632 0l570.201254-278.584184a32.583215 32.583215 0 0 0 18.24744-30.953354 32.583215 32.583215 0 0 0-21.505161-29.651465z,M32.583215 290.075742l557.819313 251.540496a32.583215 32.583215 0 0 0 27.695632 0l570.201254-278.584184a32.583215 32.583215 0 0 0-3.257721-59.952875L626.244463 2.042365a32.583215 32.583215 0 0 0-23.134022 0l-570.527226 228.080502a32.583215 32.583215 0 0 0-19.224357 30.627382 32.583215 32.583215 0 0 0 19.224357 29.325493zM615.817355 67.534767l474.733416 170.408432-488.744218 238.180638-471.474695-215.372588z'
    },
        {
            x: 290,
            y: 1000,
            symbolSize: 20,
            nodeName: 'P1',
            name: 'P1',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 290,
            y: 930,
            symbolSize: 20,
            nodeName: 'P2',
            name: 'P2',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 290,
            y: 860,
            symbolSize: 20,
            nodeName: 'P3',
            name: 'P3',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 290,
            y: 790,
            symbolSize: 20,
            nodeName: 'P4',
            name: 'P4',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 350,
            y: 1000,
            symbolSize: 20,
            nodeName: 'P5',
            name: 'P5',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 350,
            y: 930,
            symbolSize: 20,
            nodeName: 'P6',
            name: 'P6',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 350,
            y: 860,
            symbolSize: 20,
            nodeName: 'P7',
            name: 'P7',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 350,
            y: 790,
            symbolSize: 20,
            nodeName: 'P8',
            name: 'P8',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 410,
            y: 1000,
            symbolSize: 20,
            nodeName: 'P9',
            name: 'P9',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 410,
            y: 930,
            symbolSize: 20,
            nodeName: 'P10',
            name: 'P10',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 410,
            y: 860,
            symbolSize: 20,
            nodeName: 'P11',
            name: 'P11',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 410,
            y: 790,
            symbolSize: 20,
            nodeName: 'P12',
            name: 'P12',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 470,
            y: 1000,
            symbolSize: 20,
            nodeName: 'P13',
            name: 'P13',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 470,
            y: 930,
            symbolSize: 20,
            nodeName: 'P14',
            name: 'P14',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 470,
            y: 860,
            symbolSize: 20,
            nodeName: 'P15',
            name: 'P15',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 470,
            y: 790,
            symbolSize: 20,
            nodeName: 'P16',
            name: 'P16',
            type: '网口',
            svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
        },
        {
            x: 660,
            y: 960,
            symbolSize: 46,
            nodeName: '屏体1',
            name: '屏体1',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 660,
            y: 820,
            symbolSize: 46,
            nodeName: '屏体2',
            name: '屏体2',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 660,
            y: 680,
            symbolSize: 46,
            nodeName: '屏体3',
            name: '屏体3',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        }, {
            x: 660,
            y: 540,
            symbolSize: 46,
            nodeName: '屏体4',
            name: '屏体4',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 662,
            y: 400,
            symbolSize: 46,
            nodeName: '屏体33',
            name: '屏体33',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 662,
            y: 260,
            symbolSize: 46,
            nodeName: '屏体34',
            name: '屏体34',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 723,
            y: 960,
            symbolSize: 46,
            nodeName: '屏体5',
            name: '屏体5',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        }, {
            x: 723,
            y: 820,
            symbolSize: 46,
            nodeName: '屏体6',
            name: '屏体6',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        }, {
            x: 723,
            y: 680,
            symbolSize: 46,
            nodeName: '屏体7',
            name: '屏体7',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        }, {
            x: 723,
            y: 540,
            symbolSize: 46,
            nodeName: '屏体8',
            name: '屏体8',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 780,
            y: 960,
            symbolSize: 46,
            nodeName: '屏体9',
            name: '屏体9',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 780,
            y: 820,
            symbolSize: 46,
            nodeName: '屏体10',
            name: '屏体10',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 780,
            y: 680,
            symbolSize: 46,
            nodeName: '屏体11',
            name: '屏体11',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 780,
            y: 540,
            symbolSize: 46,
            nodeName: '屏体12',
            name: '屏体12',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 840,
            y: 960,
            symbolSize: 46,
            nodeName: '屏体13',
            name: '屏体13',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 840,
            y: 820,
            symbolSize: 46,
            nodeName: '屏体14',
            name: '屏体14',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 840,
            y: 680,
            symbolSize: 46,
            nodeName: '屏体15',
            name: '屏体15',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 840,
            y: 540,
            symbolSize: 46,
            nodeName: '屏体16',
            name: '屏体16',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 900,
            y: 960,
            symbolSize: 46,
            nodeName: '屏体17',
            name: '屏体17',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 900,
            y: 820,
            symbolSize: 46,
            nodeName: '屏体18',
            name: '屏体18',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 900,
            y: 680,
            symbolSize: 46,
            nodeName: '屏体19',
            name: '屏体19',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 900,
            y: 540,
            symbolSize: 46,
            nodeName: '屏体20',
            name: '屏体20',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 960,
            y: 960,
            symbolSize: 46,
            nodeName: '屏体21',
            name: '屏体21',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 960,
            y: 820,
            symbolSize: 46,
            nodeName: '屏体22',
            name: '屏体22',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 960,
            y: 680,
            symbolSize: 46,
            nodeName: '屏体23',
            name: '屏体23',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 960,
            y: 540,
            symbolSize: 46,
            nodeName: '屏体24',
            name: '屏体24',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 1020,
            y: 960,
            symbolSize: 46,
            nodeName: '屏体25',
            name: '屏体25',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 1020,
            y: 820,
            symbolSize: 46,
            nodeName: '屏体26',
            name: '屏体26',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 1020,
            y: 680,
            symbolSize: 46,
            nodeName: '屏体27',
            name: '屏体27',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 1020,
            y: 540,
            symbolSize: 46,
            nodeName: '屏体28',
            name: '屏体28',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 1080,
            y: 960,
            symbolSize: 46,
            nodeName: '屏体29',
            name: '屏体29',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 1080,
            y: 820,
            symbolSize: 46,
            nodeName: '屏体30',
            name: '屏体30',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 1080,
            y: 680,
            symbolSize: 46,
            nodeName: '屏体31',
            name: '屏体31',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
        {
            x: 1080,
            y: 540,
            symbolSize: 46,
            nodeName: '屏体32',
            name: '屏体32',
            type: '屏体',
            svgPath: ' M320 224h384v64H320zM320 416h64v64h-64zM480 416h64v64h-64zM640 416h64v64h-64zM320 576h64v64h-64zM480 576h64v64h-64zM640 576h64v64h-64zM320 736h64v64h-64zM480 736h64v64h-64zM640 736h64v64h-64z'
        },
    ]
    var links = [
        {
            source: '控制卡',
            target: 'SENDER1',
            name: '连通',
            type: '网线',
            nodeName: '主网线'

        },
        {
            source: 'P9',
            target: '屏体33',
            name: '连通',
            type: '网线',
            nodeName: '网线1'

        },
        {
            source: '屏体33',
            target: '屏体34',
            name: '连通',
            type: '网线',
            nodeName: '串联1'
        }
    ]
    var charts = {
        //拓扑模块
        nodes: [],
        //目标连接线
        links: [],
        //网格线
        linesData: [
            {//P1屏体拓扑连接线
            coords: [
                [290, 1000],
                [290, 1100],
                [660, 1100],
                [660, 490]
            ]
        }, {//P2屏体拓扑连接线
            coords: [
                [290, 930],
                [310, 930],
                [310, 1090],
                [723, 1090],
                [723, 490]
            ]
        }, {//P3屏体拓扑连接线
            coords: [
                [290, 860],
                [320, 860],
                [320, 1080],
                [780, 1080],
                [780, 490]
            ]
        }, {//P4屏体拓扑连接线
            coords: [
                [290, 790],
                [330, 790],
                [330, 1070],
                [840, 1070],
                [840, 490]
            ]
        }, {//P5屏体拓扑连接线
            coords: [
                [350, 1000],
                [350, 1060],
                [900, 1060],
                [900, 490]
            ]
        }, {//P6屏体拓扑连接线
            coords: [
                [350, 930],
                [369, 930],
                [369, 1050],
                [960, 1050],
                [960, 490]
            ]
        }, {//P7屏体拓扑连接线
            coords: [
                [350, 860],
                [380, 860],
                [380, 1040],
                [1020, 1040],
                [1020, 490]
            ]
        }, {//P8屏体拓扑连接线
            coords: [
                [350, 790],
                [390, 790],
                [390, 1030],
                [1080, 1030],
                [1080, 490]
            ]
        }
        ]
    }
    var dataMap = new Map()
    //遍历SVG图形
    for (var j = 0; j < nodes.length; j++) {
        const {
            x,
            y,
            nodeName,
            name,
            type,
            svgPath,
            symbolSize
        } = nodes[j];
        var node = {
            nodeName,
            name,
            type,
            value: [x, y],
            symbolSize: symbolSize || 50,
            symbol: 'path://' + svgPath,
            itemStyle: {
                color: 'orange',
                emphasis: {
                    color: 'red',
                },
            }
        }
        dataMap.set(nodes[j].name, [x, y])
        charts.nodes.push(node)
    }

    //遍历目标连接线
    for (var i = 0; i < links.length; i++) {
        var link = {
            source: links[i].source,
            target: links[i].target,
            type: links[i].type,
            nodeName: links[i].nodeName,
            label: {
                emphasis:{
                    show: true,
                    formatter: links[i].name
                }
            },
            lineStyle: {
                normal: {
                    show:false,
                    type: 'solid',
                    color: '#175064'
                },
                emphasis:{
                    show: true,
                    type: 'solid',
                    color: '#175064'
                }
            }
        }
        charts.links.push(link)
        // 组装动态移动的效果数据
        var lines = {
            coords:[
                dataMap.get(links[i].source),
                dataMap.get(links[i].target)
                    ]
                    }


        console.log("lines=="+lines);
        charts.linesData.push(lines)
        console.log(charts.linesData);
    }
    option = {
        tooltip: {
                //显示延迟
            showDelay: 300,
            backgroundColor: 'rgba(147, 235, 248, .2)',
            borderColor: 'rgba(147, 235, 248, 1)',
            borderRadius: 4,           // 提示边框圆角，单位px，默认为4
            borderWidth: 1,            // 提示边框线宽，单位px，默认为0（无边框）
            padding: 5,                // 提示内边距，单位px，默认各方向内边距为5，
            axisPointer : {            // 坐标轴指示器，坐标轴触发有效
               type : 'line',         // 默认为直线，可选为：'line' | 'shadow'
               lineStyle : {          // 直线指示器样式设置
                color: '#48b',
                width: 2,
                type: 'solid'
            },
            shadowStyle : {                       // 阴影指示器样式设置
                width: 'auto',                   // 阴影大小
                color: 'rgba(128, 217, 248, 1)'  // 阴影颜色
            }
        },
                //动画变换延迟单位：s
                transitionDuration: 0.8,
                // formatter: '设备类型:{b}<br />序列号:<br />'
                formatter: function (item) {
                    return '设备类型:<b style="color: green;">&nbsp;&nbsp;' + item.data.type + '</b><hr />' +
                        '设备ID:<b style="color: green;">&nbsp;&nbsp;' + item.data.nodeName + '</b><hr />' +
                        '型号：<b style="color: green;"></b><hr />' +
                        '信号强度：<b style="color: green;">强</b><hr />' +
                        '工作状态：<b style="color: green;">正常</b><hr />'
                }
            },
            // backgroundColor: "#0B1321",
            xAxis: {
                min: 0,
                max: 1000,
                show: false,
                type: 'value'
            },
            yAxis: {
                min: 0,
                max: 1000,
                show: false,
                type: 'value'
            },
            series: [{
                type: 'graph',
                coordinateSystem: 'cartesian2d',
                focusNodeAdjacency: true, // 鼠标移到节点上突出显示节点以及节点的边和邻接节点
                edgeSymbol: ['circle', 'arrow'],
                edgeSymbolSize: [4, 10],
                label: {
                    show: true,
                    position: 'bottom',
                    color: 'orange',
                    formatter: function (item) {
                        return item.data.nodeName
                    }
                },
                data: charts.nodes,
                links: charts.links
            }, {
                type: 'lines',
                polyline: true,
                coordinateSystem: 'cartesian2d',
                lineStyle: {
                    //设置网格线类型 dotted：虚线   solid:实线
                    type: 'solid',
                    width: 1,
                    color: '#175064',
                    curveness: 0.1

                },
                effect: {
                    show: true,
                    trailLength: 0.1,
                    symbol: 'arrow',
                    color: 'orange',
                    symbolSize: 8
                },
                data: charts.linesData
            }]
        };
    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
}

tuopu();

$('#dateBtn').on('click', function () {
    if ($('#timeBox').is(":hidden")) {
        $('#timeBox').show();
        document.getElementById('timeBox').focus();

    } else {
        $('#timeBox').hide();
    }
})

$('#dateBtns').on('click', function () {
    if ($('#timeBoxs').is(":hidden")) {
        $('#timeBoxs').show();
        document.getElementById('timeBoxs').focus();

    } else {
        $('#timeBoxs').hide();
    }
})

$('#switchBtn').on('click', 'span', function () {
    $(this).addClass('active').siblings().removeClass('active');
    if ($(this).data('datatype') == 'income') {
        $('#totalProfit').html('1920 * 1080');
    } else if ($(this).data('datatype') == 'expend') {
        $('#totalProfit').html('ZHULING');
    }
})
;
