<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">

    <script type="text/javascript" src="js/rem.js"></script>
    <script src="js/vue.min.js"></script>
    <script src="js/axios.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <title>本地设备监控-首页</title>
</head>

<body>
<!-- 遮罩层 -->
<div id="cover" style="background: #000; position: absolute; left: 0px; top: 0px;height: 100%; width: 100%;  filter: alpha(opacity=30); opacity: 0.3; display: none; z-index: 2 ">

</div>
<div class="container-flex" tabindex="0" hidefocus="true">
    <div class="box-center">
        <div class="center-bottom">
            <div class="city-data">
                <div id="tuopu" style="width: 16rem;height:8rem;">
                </div>
            </div>
        </div>
    </div>
</div>
<div id="main" class="container">
    <div class="pop-up">
        <span class="close-pop"></span>
        <h2 class="title">UHPLL1.5</h2>
        <h3  v-bind="info_title" style="width: 100%;height:0.4rem;font-size: 0.26rem;color:#0e94eb;margin-left:0.3rem;"><b>产品信息:<span style="color: white;">{{info_title.id}}</span></b></h3>
        <!-- 模组信息弹框 -->
        <div  class="modedetail" >
            <!-- 模组ID -->
            <h2 style="width: 1.4rem;height:0.4rem;line-height:0.37rem;text-align:center;font-size: 0.2rem;color:#0e94eb;margin-top: 0.75rem;margin-left: 0.45rem;background: url(/images/moduleDetailTitle.png) top left no-repeat">
                <b>模组ID</b>
            </h2>
            <ul style="width:3.4rem;font-size: 0.19rem;margin-left: 0.6rem;margin-top: 0.1rem;line-height: 0.3rem;">
            <!-- 分辨率 -->
                <li style="color: #0e94eb;">
                    分辨率：<span style="color: #E9E7E7;margin-left: 1rem;"><b>96 * 108</b></span>
                </li>
            <!-- 间距 -->
                <li style="color: #0e94eb;margin-top: 0.13rem;">
                    间距：<span style="color: #E9E7E7;margin-left: 1.19rem;"><b>1.588</b></span>
                </li>
            <!-- 分割线 -->
                <li style="margin-top: 0.13rem;border-bottom:rgba(255, 255, 255, 0.2) 1px solid;"></li>
            <!-- 规格类型 -->
                <li style="color: #0e94eb;margin-top: 0.13rem;">
                    规格类型：<span style="color: #E9E7E7;margin-left: 0.81rem;"><b>SMD3258</b></span>
                </li>
            <!-- 亮度 -->
                <li style="color: #0e94eb;margin-top: 0.13rem;">
                    亮度：<span style="color: #E9E7E7;margin-left: 1.19rem;"><b>600</b></span>
                </li>
            <!-- 波长 -->
                <li style="color: #0e94eb;margin-top: 0.13rem;">
                    波长(RGB)：<p style="color: #E9E7E7;"><b>R:400~480,G:620~750,B:480~500</b></p>
                </li>
            <!-- 发光亮度 -->
                <li style="color: #0e94eb;margin-top: 0.13rem;">
                    发光亮度：<span style="color: #E9E7E7;margin-left: 0.81rem;"><b>120</b></span>
                </li>
            <!-- 抗静电能力 -->
                <li style="color: #0e94eb;margin-top: 0.13rem;">
                    抗静电能力：<span style="color: #E9E7E7;margin-left: 0.62rem;"><b>700</b></span>
                </li>
            <!-- 漏电电流 -->
                <li style="color: #0e94eb;margin-top: 0.13rem;">
                    漏电电流：<span style="color: #E9E7E7;margin-left: 0.81rem;"><b>5</b></span>
                </li>
            <!-- 扫描方式 -->
                <li style="color: #0e94eb;margin-top: 0.13rem;">
                    扫描方式：<span style="color: #E9E7E7;margin-left: 0.81rem;"><b>27</b></span>
                </li>
            </ul>
        </div>
        <div class="set-div">
            <div class="set-box">
                <label class="four-f" for="">&nbsp;&nbsp;&nbsp;传感器</label>
                <div class="didimen" style="font-size: small;border:1px solid #1dacfe;width: 2rem;height: 1rem;margin-top: 1.6rem;margin-left:-1.6rem;">
                    <ul style="margin-left:0.12rem;margin-top:-0.04rem;">
                        <li style="margin-top: 0.08rem;color: #0e94eb;">电压：<span style="color: #E9E7E7">220V</span></li>
                        <li style="margin-top: 0.08rem;color: #0e94eb;">电流：<span style="color: #E9E7E7">2A</span></li>
                        <li style="margin-top: 0.08rem;color: #0e94eb;">湿度：<span style="color: #E9E7E7">30%RH</span></li>
                        <li style="margin-top: 0.08rem;color: #0e94eb;">烟雾：<span style="color: #E9E7E7">333</span></li>
                    </ul>
                    <ul style="margin-left:1rem;margin-top:-1rem;">
                        <li style="margin-top: 0.08rem;color: #0e94eb;">温度：<span style="color: #E9E7E7">35℃</span></li>
                        <li style="margin-top: 0.08rem;color: #0e94eb;">亮度：<span style="color: #E9E7E7">30Lux</span></li>
                    </ul>
                </div>
            </div>
            <div class="set-box" style="margin-top: 1rem;height:0.8rem">
                <label for="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;驱动IC</label>
                <div class="didimen1" style="font-size: small;border:1px solid #1dacfe;width: 1rem;height: 0.1985rem;margin-top: 0.7rem;margin-left:-1.6rem;">
                    <ul style="margin-left:0.12rem;margin-top:-0.04rem;">
                        <li style="margin-top: 0.08rem;color: #0e94eb;">MBI5153GP</li>
                    </ul>
                </div>
            </div>
            <div class="set-box" style="margin-top:0.2rem;">
                <label for="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;电源：</label>
                <div class="didimen" style="font-size: small;border:1px solid #1dacfe;width: 1.9rem;height: 1rem;margin-top: 1.6rem;margin-left:-1.6rem;">
                    <ul style="margin-left:0.12rem;margin-top:-0.04rem;">
                        <li style="margin-top: 8px;color: #0e94eb;">最大功率：<span style="color: #E9E7E7">220W</span></li>
                        <li style="margin-top: 8px;color: #0e94eb;">电压：<span style="color: #E9E7E7">22V</span></li>
                        <li style="margin-top: 8px;color: #0e94eb;">实际功率：<span style="color: #E9E7E7">55W</span></li>
                        <li style="margin-top: 8px;color: #0e94eb;">平均功率：<span style="color: #E9E7E7">43W</span></li>
                    </ul>
                </div>
            </div>
            <div class="set-box" style="margin-top:1.2rem;">
                <label for="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;接收卡信息：</label>
                <div class="didimen" style="font-size: small;border:1px solid #1dacfe;width: 2.5rem;height: 1.25rem;margin-top: 1.8rem;margin-left:-1.6rem;">
                    <ul style="margin-left:0.12rem;margin-top:-0.04rem;">
                        <li style="margin-top: 0.08rem;color: #0e94eb;">接收卡名称：<span style="color: #E9E7E7">C160080</span></li>
                        <li style="margin-top: 0.08rem;color: #0e94eb;">接收卡个数：<span style="color: #E9E7E7">1</span></li>
                        <li style="margin-top: 0.08rem;color: #0e94eb;">运行时间：<span style="color: #E9E7E7">2h5m0s</span></li>
                        <li style="margin-top: 0.08rem;color: #0e94eb;">版本号：<span style="color: #E9E7E7">ZE0233-25</span></li>
                        <li style="margin-top: 0.08rem;color: #0e94eb;">带载面积：<span style="color: #E9E7E7">209251m㎡</span></li>
                    </ul>
                </div>
            </div>
            <!-- 模组拓扑 -->
            <div class="module-model">
                <!--  模组1 -->
                <div class="module" onclick="aiguozhe('我爱我家')" style="border: black 0.02rem;border-style:none solid solid none;float: left;width: 1.945rem;height: 1.9rem;margin-top: 0.1rem;margin-left: 0.07rem;">

                </div>
                <!--  模组2 -->
                <div class="module" onclick="aiguozhe('我爱我家')" style="border: black 0.02rem;border-style:none solid solid none;float: left;width: 1.945rem;height: 1.9rem;margin-top: 0.1rem;">

                </div>
                <!--  模组3 -->
                <div class="module" onclick="aiguozhe('我爱我家')" style="border: black 0.02rem;border-style:none solid solid none;float: left;width: 1.945rem;height: 1.9rem;margin-top: 0.1rem;">

                </div>
                <!--  模组4 -->
                <div class="module" onclick="aiguozhe('我爱我家')" style="border: black 0.02rem;border-style:none none solid none;float: left;width: 1.912rem;height: 1.9rem;margin-top: 0.1rem;">

                </div>

                <!--  模组5 -->
                <div class="module" onclick="aiguozhe('我爱我家')" style="border: black 0.02rem;border-style:none solid none none;float: left;width: 1.945rem;height: 1.98rem;margin-left: 0.07rem;">

                </div>

                <!--  模组6-->
                <div class="module" onclick="aiguozhe('我爱我家')" style="border: black 0.02rem;border-style:none solid none none;float: left;width: 1.945rem;height: 1.98rem;">

                </div>

                <!--  模组7-->
                <div class="module" onclick="aiguozhe('我爱我家')" style="border: black 0.02rem;border-style:none solid none none;float: left;width: 1.945rem;height: 1.98rem;">

                </div>

                <!--  模组8-->
                <div class="module" onclick="aiguozhe('我爱我家')" style="float: left;width: 1.945rem;height: 1.98rem;">

                </div>
            </div>
            <!-- 上方是模组拓扑 -->
            <div class="set-box" style="margin-top:-4.4rem;float: right;margin-right:0.45rem;">
                <label for="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;模组信息：</label>
                <div class="didimen" style="font-size: small;border:1px solid #1dacfe;width: 1.5rem;margin-left:-1.6rem;height: 0.75rem;margin-top: 1.3rem;">
                    <ul style="margin-left:0.12rem;margin-top:-0.04rem;">
                        <li style="margin-top: 0.08rem;color: #0e94eb;">模组个数：<span style="color: #E9E7E7">4*2</span></li>
                        <li style="margin-top: 0.08rem;color: #0e94eb;">正常模组：<span style="color: #E9E7E7">0</span></li>
                        <li style="margin-top: 0.08rem;color: #0e94eb;">故障模组：<span style="color: #E9E7E7">8</span></li>
                    </ul>
                </div>
            </div>
            <div class="set-box" style="margin-top:-3rem;float: right;">
                <label for="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;维修日志：</label>
                <div class="didimen" style="font-size: small;border:1px solid #1dacfe;width: 2rem;margin-left:-1.6rem;height: 1.2rem;margin-top: 1.8rem;">
                    <ul style="margin-left:0.12rem;margin-top:-0.04rem;">
                        <li style="margin-top: 0.08rem;color: #0e94eb;">维修统计：<span style="color: #E9E7E7">0</span></li>
                    </ul>
                </div>
            </div>
            </div>
        </div>
    </div>
</body>
<script>
    new Vue({
        el: '#main',
        data () {
            return {
                //请求的回传参数
                data: null,
                info_title: "",
                //屏幕对象
                ledParasJson : null ,
                //发送卡列表
                senderOrderList : [],
                //发送卡初始X值
                XInitSender : 200,
                //发送卡初始Y值
                YInitSender : 1000,
                //网口初始X值-X轴上单个偏移差值为60一个单位(向右+60)
                XInitPort : 290,
                //网口初始Y值-Y轴上单个偏移差值为70一个单位（向下-70）
                YInitPort : 1000,
                //网口最大总数量
                MaxPort : 16,
                //X轴上单个偏移差值为60一个单位(向右+60)----屏体（同网口）
                XInit : [660,720,780,840,900,960,1020,1080],
                //Y轴上单个偏移差值为140一个单位(向下-140)----屏体
                YInit : [960,820,680,540,400,260,120,-20],
                //矢量图形组
                nodes : [{
                    x: 0,
                    y: 600,
                    nodeName: '控制卡',
                    name: '控制卡',
                    type: '播放器',
                    detail:null,
                    svgPath: 'M885.76 919.552H116.736C53.248 919.552 1.024 867.328 1.024 803.84V284.672c0-63.488 52.224-115.712 115.712-115.712h769.024c63.488 0 115.712 52.224 115.712 115.712v519.168c0 63.488-52.224 115.712-115.712 115.712zM116.736 226.304c-31.744 0-58.368 25.6-58.368 58.368v519.168c0 31.744 25.6 58.368 58.368 58.368h769.024c31.744 0 58.368-25.6 58.368-58.368V284.672c0-31.744-25.6-58.368-58.368-58.368H116.736z M432.128 740.352c-15.36 0-30.72-4.096-44.032-12.288-25.6-15.36-40.96-43.008-40.96-72.704V458.752c0-30.72 15.36-57.344 40.96-72.704s57.344-16.384 83.968-2.048L658.432 481.28c27.648 14.336 46.08 44.032 46.08 75.776 0 31.744-17.408 60.416-46.08 75.776l-185.344 98.304c-13.312 6.144-26.624 9.216-40.96 9.216z m1.024-279.552v191.488l182.272-96.256L433.152 460.8z m184.32 97.28l20.48-37.888-20.48 37.888z',
                    symbolSize: 70,
                }
                ],
                //连接线数组
                links : [],
                //走线方式数组
                portGroup : [],
            }
        },
        mounted () {
            axios.get('/getJsonMessage')
                //response ---返回的参数
                .then(response => {
                this.data = response.data
                for(var i = 0;i<this.data.comList.length;i++){
                //获取屏幕对象
                this.ledParasJson = this.data.comList[i].ledParas;
                //发送卡数组
                this.senderOrderList = this.ledParasJson.senderOrderList;
                //遍历发送卡列表可知发送卡数量
                for(var i = 0;i<this.senderOrderList.length;i++){
                    //当前发送卡信息
                    var senderOrder = this.senderOrderList[i];
                    //发送卡信息
                    var sender ={
                        x: this.XInitSender,
                        y: this.YInitSender,
                        nodeName: senderOrder.id,
                        name: senderOrder.id,
                        type: '发送卡',
                        detail:'ok',
                        svgPath: 'M868.48 104.96H155.52a32 32 0 0 0-32 32v538.24a32 32 0 0 0 32 32h712.96a32 32 0 0 0 32-32V136.96a32 32 0 0 0-32-32z m-32 64V390.4H187.52V168.96zM187.52 643.2V422.4h648.96v221.44z M252.8 232.96h32v74.88h-32zM334.72 232.96h32v74.88h-32zM252.8 502.4h32v74.88h-32zM334.72 502.4h32v74.88h-32zM868.48 853.12H600.96a94.72 94.72 0 0 0-56.96-56.96v-53.76h-64v53.76a94.72 94.72 0 0 0-56.96 56.96H155.52a32 32 0 1 0 0 64h267.52a94.08 94.08 0 0 0 177.92 0h267.52a32 32 0 0 0 0-64zM512 915.84a30.72 30.72 0 1 1 30.72-30.72 30.72 30.72 0 0 1-30.72 30.72z'
                    }
                    //新增拓扑连接线
                    var lineSender = {
                        source: '控制卡',
                        target: senderOrder.id,
                        name: '连通',
                        type: '网线',
                        nodeName: '主网线'
                    }
                    //连接线新增
                    this.links.push(lineSender);
                    //矢量图形新增
                    this.nodes.push(sender);
                    //获取走线端口数量
                    var portNum = senderOrder.portOrder.length;
                    //遍历走线接口
                    for(var j = 0;j<portNum;j++){
                        //走线详情信息
                        var port = senderOrder.portOrder[j];
                        //判断索引是否能够取余4来判断在当前X轴的Y位置
                        if((j+1)%4 == 0){
                            //当前port对象
                            var singlePort = {
                                //X轴上单个偏移差值为60一个单位(向右+60)
                                x: this.XInitPort+parseInt((j+1)/4-1)*60,
                                //Y轴上单个偏移差值为70一个单位（向下-70）
                                y: this.YInitPort-3*70,
                                symbolSize: 20,
                                nodeName: port.id,
                                name: port.id,
                                type: '网口',
                                detail:null,
                                svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
                            };
                            //走线方式数组添加
                            this.nodes.push(singlePort);
                        }else{
                            var singlePort = {
                                //X轴上单个偏移差值为60一个单位(向右+60)
                                x: this.XInitPort+parseInt((j+1)/4)*60,
                                //Y轴上单个偏移差值为70一个单位（向下-70）
                                y: this.YInitPort-(j)%4*70,
                                symbolSize: 20,
                                nodeName: port.id,
                                name: port.id,
                                type: '网口',
                                detail:null,
                                svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
                            };
                            this.nodes.push(singlePort);
                        }
                        //遍历单个走线口的屏体信息
                        for(var boxindex = 0;boxindex < port.box.length;boxindex++){
                            var box = port.box[boxindex];
                            //判断屏体顺序是否为1能和端口直连
                            if(box.order == 1){
                                var portBox = {
                                    source: port.id,
                                    target: box.id,
                                    name: '连通',
                                    type: '网线',
                                    nodeName: '网线'
                                }
                                //端口连接线新增
                                this.links.push(portBox);
                            }
                            //判断小于最后一个屏体之间的相互串联
                            if(box.order < port.box.length){
                                var boxNext = port.box[boxindex+1]
                                var portBox = {
                                    source: box.id,
                                    target: boxNext.id,
                                    name: '连通',
                                    type: '串联',
                                    nodeName: '串联'
                                }
                                this.links.push(portBox);
                            }
                            //单个屏体的信息
                            var singleBox = {
                                x: this.XInit[box.xpos-1],
                                y: this.YInit[box.ypos-1],
                                symbolSize: 46,
                                nodeName: box.id,
                                name: box.id,
                                type: '屏体',
                                detail:box,
                                svgPath: 'M651.636364 1024V558.545455h558.545454v465.454545z '
                            }
                            this.nodes.push(singleBox);
                        }

                    }
                }
            }
            // data = jQuery.parseJSON(data);
            // dataType指明了返回数据为json类型，故不需要再反序列化
            //拓扑图形实现
                    var charts = {
                        //拓扑模块
                        nodes: [],
                        //目标连接线
                        links: [],
                        //网格线
                        linesData: []
                    }

                    // 基于准备好的dom，初始化echarts实例
                    var myChart = echarts.init(document.getElementById('tuopu'));

                    var dataMap = new Map();
                    //遍历SVG图形
                    for (var j = 0; j < this.nodes.length; j++) {
                        const {
                            x,
                            y,
                            nodeName,
                            name,
                            type,
                            detail,
                            svgPath,
                            symbolSize
                        } = this.nodes[j];
                        if(type == '屏体'){
                            var node = {
                                nodeName,
                                name,
                                type,
                                detail,
                                value: [x, y],
                                symbolSize: symbolSize || 50,
                                symbol: 'path://' + svgPath,
                                itemStyle: {
                                    color: '#043c58',
                                    emphasis: {
                                        color: '#1D5D76'
                                    },
                                }
                            }
                            dataMap.set(this.nodes[j].name, [x, y])
                            charts.nodes.push(node)
                        }else{
                            var node = {
                                nodeName,
                                name,
                                type,
                                detail,
                                value: [x, y],
                                symbolSize: symbolSize || 50,
                                symbol: 'path://' + svgPath,
                                itemStyle: {
                                    color: 'orange',
                                    emphasis: {
                                        color: '#FFDD00'
                                    },
                                }
                            }
                            dataMap.set(this.nodes[j].name, [x, y])
                            charts.nodes.push(node)
                        }
                    }

                    //遍历目标连接线
                    for (var i = 0; i < this.links.length; i++) {
                        var link = {
                            source: this.links[i].source,
                            target: this.links[i].target,
                            type: this.links[i].type,
                            nodeName: this.links[i].nodeName,
                            label: {
                                normal:{
                                    show:false
                                },
                                emphasis:{
                                    symbolSize:8,
                                    fontSize:38,
                                    color:'red',
                                    show: true,
                                    formatter: this.links[i].name
                                }
                            },
                            lineStyle: {
                                normal: {
                                    curveness:0.15,
                                    symbolSize:0
                                },
                                emphasis:{
                                    symbolSize:8,
                                    type: 'solid',
                                    color: '#20A0FF'
                                }
                            }
                        }
                        charts.links.push(link);
                        // 组装动态移动的效果数据
                        var lines = {
                            coords:[
                                dataMap.get(this.links[i].source),
                                dataMap.get(this.links[i].target)
                            ]
                        };
                        charts.linesData.push(lines);
                    }
                    option = {
                        //提示框显示
                        tooltip: {
                            //显示延迟
                            showDelay: 300,
                            backgroundColor: '#1F2D3D',
                            borderColor: '#324057',
                            borderRadius: 4,           // 提示边框圆角，单位px，默认为4
                            borderWidth: 1,            // 提示边框线宽，单位px，默认为0（无边框）
                            padding: 5,                // 提示内边距，单位px，默认各方向内边距为5，
                            axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                                type : 'line',         // 默认为直线，可选为：'line' | 'shadow'
                                lineStyle : {          // 直线指示器样式设置
                                    color: '#48b',
                                    width: 2,
                                    type: 'solid'
                                },
                                shadowStyle : {                       // 阴影指示器样式设置
                                    width: 'auto',                   // 阴影大小
                                    color: '#475669'  // 阴影颜色
                                }
                            },
                            //动画变换延迟单位：s
                            transitionDuration: 0.8,
                            // formatter: '设备类型:{b}<br />序列号:<br />'
                            formatter: function (item) {
                                return '设备类型:<b style="color: green;">&nbsp;&nbsp;' + item.data.type + '</b><hr />' +
                                    '设备ID:<b style="color: green;">&nbsp;&nbsp;' + item.data.nodeName + '</b><hr />' +
                                    '型号：<b style="color: green;"></b><hr />' +
                                    '信号强度：<b style="color: green;">强</b><hr />' +
                                    '工作状态：<b style="color: green;">正常</b><hr />'
                            }
                        },
                        // backgroundColor: "#0B1321",
                        xAxis: {
                            min: 0,
                            max: 1000,
                            show: false,
                            type: 'value'
                        },
                        yAxis: {
                            min: 0,
                            max: 1000,
                            show: false,
                            type: 'value'
                        },
                        series: [{
                            type: 'graph',
                            coordinateSystem: 'cartesian2d',
                            focusNodeAdjacency: true, // 鼠标移到节点上突出显示节点以及节点的边和邻接节点
                            lineStyle: {
                                normal: {
                                    width: 2,
                                    shadowColor: 'none'
                                }
                            },
                            edgeSymbol: ['circle', 'arrow'],
                            edgeSymbolSize: [4, 10],
                            label: {
                                show: true,
                                position: 'bottom',
                                color: 'orange',
                                formatter: function (item) {
                                    return item.data.nodeName
                                }
                            },
                            data: charts.nodes,
                            links: charts.links
                        },
                            //     {
                            //     type: 'lines',
                            //     polyline: true,
                            //     coordinateSystem: 'cartesian2d',
                            //     lineStyle: {
                            //         //设置网格线类型 dotted：虚线   solid:实线
                            //         type: 'solid',
                            //         width: 1,
                            //         color: '#175064',
                            //         curveness: 0.1
                            //
                            //     },
                            //     effect: {
                            //         show: true,
                            //         trailLength: 0.1,
                            //         symbol: 'arrow',
                            //         color: 'orange',
                            //         symbolSize: 8
                            //     },
                            //     data: charts.linesData
                            // }
                        ]
                    };
                    // 使用刚指定的配置项和数据显示图表。
                    myChart.setOption(option);
                    // 处理点击事件并且弹出数据名称-params传入的参数
                    myChart.on('click', function (params) {
                        if(params.data.type == '屏体'){
                            //屏体参数赋值
                            var detail = params.data.detail;
                            this.info_title = detail.id;
                            console.log(this.info_title);
                            $('#cover').css('display','block'); //显示遮罩层
                            $('.container').attr('style', 'visibility: visible').find('.pop-up').
                            attr('style', 'visibility: visible').siblings().attr('style', 'visibility: hidden');
                        }else{
                            alert("暂未开放");
                        }
                    });
                }).catch(function (error) {
                alert("获取后台参数失败");
                console.log(error);
            });
        },
        methods:{

        }
    })
</script>
<script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="js/echarts.min.js"></script>
<script type="text/javascript" src="js/base.js"></script>
</html>
