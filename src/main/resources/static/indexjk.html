<!DOCTYPE html>
<html lang="zh-CN" id="webjk">
<head>
    <meta charset="UTF-8">
<!--    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />-->
    <title>洲明本地监控系统</title>
    <style  type="text/css">
        /* 当屏幕分辨率不超过1920px的时候将body内容缩放成150% */
        /* @media screen and (max-width: 1921px) {
             body{
                 zoom: 150%;
             }
         }*/

        /*@media screen and (min-width: 1600px) and (max-width: 1920px){*/

        /* }*/
        /*!*适应pad端 宽度在640-1000之间*!*/
        @media screen and (min-width: 2048px) and (max-width: 2560px){
             body{
                 zoom: 150;
             }
         }
        * {
            margin: 0;
            padding: 0;
            font-size: 100%;
        }

        html {
            overflow-y: auto;
            overflow-x: hidden;
            background-image: url(img/bg.jpg);
            background-repeat: no-repeat;
            background-size:100% 100%;
            background-attachment: fixed;
        }

        html, body {
            width: 100%;
            height: 100%;
            -webkit-font-smoothing: antialiased;
            font-family: "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;

        }


        .index_content {
            width: 100%;
            height: 100%;
        }

        .index_nav {
            height: 11.3%;
            background-color: #1D8CE0;
            color: #ffffff;
            top: 0;
            left: 0;
            width: 100%;
            position: fixed;
            z-index: 9999;
        }

        .index_nav ul li {
            font-size: 1em;
            font-weight: 500;
            opacity: 0.8;
            cursor: pointer;
            display: list-item;
            z-index: 9999;
            text-align: -webkit-match-parent;
            list-style: none;
            padding-left: 2.8%;
        }


        .index_nav ul .l_left {
            float: left;
            margin-top: -0.2%;
            margin-left: 16%;
        }

        .index_nav ul .r_right {
            float: right;
            margin-top: 0.8%;
        }

        .index_nav ul li:hover {
            opacity: 1;
        }

        .p1 {
            margin-right: 16%;
        }

        .p2 {
            margin-right: 6%;
        }

        .nav_active {
            opacity: 1 !important;
            color: #04449c;
        }


        .sz {
            background-image: url(img/sz.svg);
            width: 1em;
            height: 2em;
            background-repeat: no-repeat;
        }


        .kz {
            background-image: url(img/kz.svg);
            width: 1em;
            height: 2em;
            background-repeat: no-repeat;
        }

        .zm {
            background-image: url(img/zm.svg);
            width: 11.3em;
            height: 3em;
            background-repeat: no-repeat;
        }


        .asz {
            background-image: url(img/sz1.svg);
            width: 1em;
            height: 2em;
            background-repeat: no-repeat;
        }

        .akz {
            background-image: url(img/kz1.svg);
            width: 1em;
            height: 2em;
            background-repeat: no-repeat;
        }

        .azm {
            background-image: url(img/zm1.svg);
            width: 11.3em;
            height: 3em;
            background-repeat: no-repeat;
        }


        .nc {
            height: 4em;
            display: block;
            margin-left: -300%;
            letter-spacing: 0.0001em;
            line-height: 5.8em;
            -webkit-touch-callout: none; /* iOS Safari */

            -webkit-user-select: none; /* Chrome/Safari/Opera */

            -khtml-user-select: none; /* Konqueror */

            -moz-user-select: none; /* Firefox */

            -ms-user-select: none; /* Internet Explorer/Edge */

            user-select: none; /* Non-prefixed version, currently not supported by any browser */
        }


        .nczm {
            display: block;
            margin-left: -18.7%;
            margin-top: 25%;
            font-size: larger;
            width: 112%;
            letter-spacing: 0.3em;
            -webkit-touch-callout: none; /* iOS Safari */
            -webkit-user-select: none; /* Chrome/Safari/Opera */
            -khtml-user-select: none; /* Konqueror */
            -moz-user-select: none; /* Firefox */
            -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently not supported by any browser */
        }

        .yh {
            background-image: url(img/yh.svg);
            background-repeat: no-repeat;
            width: 2em;
            height: 2em;
            margin-left: 93%;
            margin-top: 1%;
            opacity: 0.8;
            z-index: 9999;
            position: relative;
        }

        .um {
            width: 4em;
            height: 5em;
            position: absolute;
            margin-left: -44%;
            margin-top: 109%;
            background-color: #ffffff;
            border-radius: 0.3em;
            border: 0.1em solid #ededed;
            display: none;

            top: 1.2em;
            left: 0;
        }

        .yh:hover .um {
            display: block;
        }


        .ncyh {
            width: 6em;
            height: 0.6em;
            display: block;
            line-height: 0.1em;
            letter-spacing: 0.07em;
            padding-top: 47%;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            margin-left: -5px;
            -webkit-touch-callout: none; /* iOS Safari */
            -webkit-user-select: none; /* Chrome/Safari/Opera */
            -khtml-user-select: none; /* Konqueror */
            -moz-user-select: none; /* Firefox */
            -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none; /* Non-prefixed version, currently not supported by any browser */
        }

        .yh:hover {
            opacity: 1;
            cursor: pointer;
        }

        a.bw {
            display: block;
            text-decoration: none;
            color: #999;
            margin-left: 1em;
            margin-top: 0.5em;
        }

        a.btc {
            display: block;
            text-decoration: none;
            color: #999;
            margin-left: 1em;
            margin-top: 0.6em;
        }

        a:hover {
            color: #1D8CE0;
        }

        .index_tabs {
            width: 100%;
            height: 100%;
            position: absolute;
            display: block;
            margin-top: 76px;
        }


        .tab {
            height: 100%;
            width: 100%;
            color: #20a0ff;
            position: absolute;
        }




        .left {
            width: 397px;
            height: 571px;
            float: left;
            margin-left: 3px;
            margin-top: 3px;
        }

        .left0 {
            width: 397px;
            height: 43%;
            border: 0.001em solid #129ce6;
        }


        .lt0 {
            background-color: #E5E9F2;
            line-height: 30px;
            font-weight: 500;
            font-family: serif;
        }

        .azig {
            margin-top: -176px;
            margin-left: -21px;
            position: absolute;
        }

        .kzqrun {
            margin-top: 96px;
            margin-left: 27px;
            width: 100px;
            height: 100px;
            /* background: aqua;
             animation: turn 1s linear infinite;
             background: url(img/azyx.png) no-repeat center center;*/
            position: relative;
        }

        .left1 {
            width: 397px;
            height: 55.5%;
            border: 0.001em solid #129ce6;
            position:relative;
            margin-top: 8px;
        }

        .lt1 {
            background-color: #E5E9F2;
            line-height: 30px;
            font-weight: 500;
            font-family: serif;
        }

        .fskig {
            margin-top: 133px;
            margin-left: 10px;
            position: absolute;
        }

        .fskrun {
            margin-top: 155px;
            margin-left: 11px;
            width: 100px;
            height: 100px;
            /*    background: aqua;
                animation: turn 1s linear infinite;
                background: url(img/fskyx.png) no-repeat center center;*/
            position: absolute;
        }


        .center {
            width: 450px;
            height: 571px;
            border: 0.001em solid #129ce6;
            float: left;
            margin-left: 6px;
            margin-top: 3px;
        }

        .ct {
            background-color: #E5E9F2;
            line-height: 30px;
            text-align: center;
            font-weight: 500;
            font-family: serif;
        }


        .right {
            width: 397px;
            height: 571px;
            float: left;
            margin-left: 6px;
            margin-top: 3px;
        }

        .right0 {
            width: 397px;
            height: 43%;
            border: 0.001em solid #129ce6;
        }


        .rt0 {
            background-color: #E5E9F2;
            line-height: 30px;
            font-weight: 500;
            font-family: serif;
        }

        .gx0 {
            width: 397px;
            height: 218px;
            position: relative;
        }

        .right1 {
            width: 397px;
            height: 55.5%;
            border: 0.001em solid #129ce6;
            margin-top: 8px;
            position: relative;
        }

        .rt1 {
            background-color: #E5E9F2;
            line-height: 30px;
            font-weight: 500;
            font-family: serif;
        }


        .dy {
            width: 397px;
            height: 407px;
            margin-top: -254px;
            margin-left: -110px;
        }

        .dl {
            width: 397px;
            height: 407px;
            position: absolute;
            margin-top: -363px;
            margin-left: 135px;
        }

        .fs {
            position: absolute;
            margin-top: -370px;
            margin-left: 160px;
            width: 100px;
            height: 100px;
            /*animation: turn 1s linear infinite;*/
            animation-play-state: paused;
            background: url(img/fs.svg) no-repeat center center;
            z-index: 1;
        }

        .fs1{
            /*animation-play-state: paused;*/
            animation: turn 1s linear infinite;
        }


        /*
          turn : 定义的动画名称
          1s : 动画时间
          linear : 动画以何种运行轨迹完成一个周期
          infinite :规定动画应该无限次播放
         */
        @keyframes turn {
            0% {
                -webkit-transform: rotate(0deg);
            }
            25% {
                -webkit-transform: rotate(90deg);
            }
            50% {
                -webkit-transform: rotate(180deg);
            }
            75% {
                -webkit-transform: rotate(270deg);
            }
            100% {
                -webkit-transform: rotate(360deg);
            }
        }

        .hjws {
            width: 397px;
            height: 407px;
            position: relative;
            margin-top: -18px;
            margin-left: 11px;
        }

        .circle {
            width: 10px;
            height: 10px;
            border-radius: 10%;
            -moz-border-radius: 50%;
            -webkit-border-radius: 50%;
            font-size: .18rem;
            color: #ffffff;
            opacity: 1;
            display: inline-block;
            margin-left: 10px;
            margin-top: 13px;

        }

        .ledstatus {
            font: 13px/23px 'PingFang SC', Arial, 'Microsoft YaHei', sans-serif;
            font-style: normal;
            font-variant-ligatures: normal;
            font-variant-caps: normal;
            font-variant-numeric: normal;
            font-variant-east-asian: normal;
            font-weight: normal;
            font-stretch: normal;
            font-family: "PingFang SC", Arial, "Microsoft YaHei", sans-serif;
        }



        .onbutton {
            font-weight: bold;
            position: absolute;
            margin-top: 30px;
            margin-left: 91px;
        }

        div#ledswitch {
            margin-top: 146px;
            margin-left: 936px;
            position: absolute;
        }

        div#ledslider {
            position: absolute;
            width: 600px;
            margin-left: 93px;
            margin-top: 238px;
            line-height: 35px;
        }

        .ledph1 {
            float: left;
            width: 73%;
            margin-left: -2px;
            margin-top: -21px;
        }

        .ledph2 {
            float: left;
            margin-left: 581px;
            margin-top: -292px;
            width: 73%;
        }

        div#input{
            margin-top: 142px;
            margin-left: 88px;
        }


        div#input1{
            margin-top: -41px;
            margin-left: 676px;
        }

        div#ledradio {
            float: left;
            margin-left: 94px;
            margin-top: -115px;
        }

        .circle2 {
            width: 10px;
            height: 10px;
            border-radius: 10%;
            -moz-border-radius: 50%;
            -webkit-border-radius: 50%;
            font-size: .18rem;
            color: #ffffff;
            opacity: 1;
            display: inline-block;
            margin-left: 13px;
            margin-top: 17px;
        }

        .clearfix:after, .clearfix:before {
            display: table;
            content: " "
        }

        .clearfix:after {
            clear: both
        }


        .mainbox {
            margin-left: 165px;
            margin-top: -187px;
            width: 520px;
        }

        .mainbox > ul {
            margin-left: -.4rem;
            margin-right: -.4rem;
        }

        .mainbox > ul > li {
            float: left;
            padding: 0 .4rem
        }

        .mainbox > ul > li {
            width: 30%
        }

        .mainbox > ul > li:nth-child(2) {
            width: 40%
        }

        .boxall {
            height: 11.7rem;
            width:13rem;
            border: 1px solid rgba(25, 186, 139, .17);
            padding: 0 .3rem .3rem .3rem;
            background: rgba(255, 255, 255, .04);
            background-size: 100% auto;
            position: relative;
            margin-bottom: .3rem;
            z-index: 10;
        }

        .boxall:before,
        .boxall:after {
            position: absolute;
            width: .1rem;
            height: .1rem;
            content: "";
            border-top: 2px solid #02a6b5;
            top: 0;
        }

        .boxall:before, .boxfoot:before {
            border-left: 2px solid #02a6b5;
            left: 0;
        }

        .boxall:after, .boxfoot:after {
            border-right: 2px solid #02a6b5;
            right: 0;
        }


        .boxfoot {
            position: absolute;
            bottom: 0;
            width: 100%;
            left: 0;
        }

        .boxfoot:before,
        .boxfoot:after {
            position: absolute;
            width: .1rem;
            height: .1rem;
            content: "";
            border-bottom: 2px solid #02a6b5;
            bottom: 0;
        }


        .sycm ul {
            margin-left: -.5rem;
            margin-right: -.5rem;
            padding: 1.16rem 0;
        }

        .sycm li {
            float: left;
            width: 47.33%;
            text-align: center;
            position: relative
        }

        .sycm li:before {
            position: absolute;
            content: "";
            height: 30%;
            width: 1px;
            background: rgba(255, 255, 255, .1);
            right: 0;
            top: 15%;
        }

        .sycm li:last-child:before {
            width: 0;
        }

        .sycm li h2 {
            font-size: 0.6rem;
            color: #ffffff;
            opacity: 0.7;
        }

        .sycm li span {
            font-size: 0.5rem;
            color: #ffffff;
            opacity: 1;
        }

        ul li {
            list-style-type: none;
        }


        .clearfix1:after, .clearfix1:before {
            display: table;
            content: " "
        }

        .clearfix1:after {
            clear: both
        }


        .mainbox1 {
            /*margin-top: 7px;*/
            padding: .4rem .4rem 0rem .4rem;
            position: absolute;
        }

        .mainbox1 > ul {
            margin-left: -.4rem;
            margin-right: -.4rem;
        }

        .mainbox1 > ul > li {
            float: left;
            padding: 0 .4rem
        }

        .mainbox1 > ul > li {
            width: 30%
        }

        .mainbox1 > ul > li:nth-child(2) {
            width: 40%
        }

        .boxall1 {
            height: 7rem;width:22.8rem;
            border: 1px solid rgba(25, 186, 139, .17);
            padding: 0 .3rem .3rem .3rem;
            background: rgba(255, 255, 255, .04);
            background-size: 100% auto;
            position: absolute;
            margin-bottom: .3rem;
            z-index: 10;
            margin-top: 23px;
        }

        .boxall1:before,
        .boxall1:after {
            position: absolute;
            width: .1rem;
            height: .1rem;
            content: "";
            border-top: 2px solid #02a6b5;
            top: 0;
        }

        .boxall1:before, .boxfoot1:before {
            border-left: 2px solid #02a6b5;
            left: 0;
        }

        .boxall1:after, .boxfoot1:after {
            border-right: 2px solid #02a6b5;
            right: 0;
        }


        .boxfoot1 {
            position: absolute;
            bottom: 0;
            width: 100%;
            left: 0;
        }

        .boxfoot1:before,
        .boxfoot1:after {
            position: absolute;
            width: .1rem;
            height: .1rem;
            content: "";
            border-bottom: 2px solid #02a6b5;
            bottom: 0;
        }


        .sycm1 {
            margin-top: 9px;
        }

        .sycm1 ul {
            margin-left: -.5rem;
            margin-right: -.5rem;
            padding: .16rem 0;
            line-height: 22px;
        }

        .sycm1 li {
            float: left;
            width: 33.33%;
            text-align: center;
            position: relative
        }

        .sycm1 li:before {
            position: absolute;
            content: "";
            height: 30%;
            width: 1px;
            background: rgba(255, 255, 255, .1);
            right: 0;
            top: 15%;
        }

        .sycm1 li:last-child:before {
            width: 0;
        }


        .sycm1 li h2 {
            font-size: 0.6rem;
            color: #ffffff;
            opacity: 0.7;
        }

        .sycm1 li span {
            font-size: 0.5rem;
            color: #ffffff;
            opacity: 1;
        }


        .clearfix2:after, .clearfix2:before {
            display: table;
            content: " "
        }

        .clearfix2:after {
            clear: both
        }



        .mainbox2 {
            margin-top: 221px;
            padding: .4rem .4rem 0rem .4rem;
            margin-left: 2px;
        }

        .mainbox2 > ul {
            margin-left: -.4rem;
            margin-right: -.4rem;
        }

        .mainbox2 > ul > li {
            float: left;
            padding: 0 .4rem
        }

        .mainbox2 > ul > li {
            width: 30%
        }

        .mainbox2 > ul > li:nth-child(2) {
            width: 40%
        }

        .boxall2 {
            height: 17rem;width:26.3rem;
            border: 1px solid rgba(25, 186, 139, .17);
            padding: 0 .3rem .3rem .3rem;
            background-size: 100% auto;
            position: relative;
            margin-bottom: .3rem;
            z-index: 10;
        }

        .boxall2:before,
        .boxall2:after {
            position: absolute;
            width: .1rem;
            height: .1rem;
            content: "";
            border-top: 2px solid #02a6b5;
            top: 0;
        }

        .boxall2:before, .boxfoot2:before {
            border-left: 2px solid #02a6b5;
            left: 0;
        }

        .boxall2:after, .boxfoot2:after {
            border-right: 2px solid #02a6b5;
            right: 0;
        }


        .boxfoot2 {
            position: absolute;
            bottom: 0;
            width: 100%;
            left: 0;
        }

        .boxfoot2:before,
        .boxfoot2:after {
            position: absolute;
            width: .1rem;
            height: .1rem;
            content: "";
            border-bottom: 2px solid #02a6b5;
            bottom: 0;
        }


        .sycm2 {
            margin-top: 53px;
        }

        .sycm2 ul {
            margin-left: -.5rem;
            margin-right: -.5rem;
            padding: .16rem 0;
            line-height: 22px;
        }

        .sycm2 li {
            float: left;
            width: 33.33%;
            text-align: center;
            position: relative
        }

        .sycm2 li:before {
            position: absolute;
            content: "";
            height: 30%;
            width: 1px;
            background: rgba(255, 255, 255, .1);
            right: 0;
            top: 15%;
        }

        .sycm2 li:last-child:before {
            width: 0;
        }


        .sycm2 li h2 {
            font-size: 0.6rem;
            color: #ffffff;
            opacity: 0.7;
        }

        .sycm2 li span {
            font-size: 0.5rem;
            color: #ffffff;
            opacity: 1;
        }


        @font-face {
            font-family: 'UnidreamLED';
            src: url('fonts/LED Dot-Matrix.ttf');
        }


        .timeshow {
            margin-top: -20px;
            margin-left: 139px;
            position:absolute;
        }

        .curtitle {
            font-family: "微软雅黑", serif;
            font-size: 0.5rem;
            color: #ffffff;
            opacity: 0.6;
        }

        .current {
            letter-spacing: 0.1em;
            font-size: 1em;
            font-family: 'UnidreamLED', serif;
            color: #00ca6d;
            margin-top: 10px;
        }

        .timeshow1 {
            margin-top: -20px;
            margin-left: 271px;
            position: absolute;
        }

        .curtitle1 {
            font-family: "微软雅黑", serif;
            font-size: 0.5rem;
            color: #ffffff;
            opacity: 0.6;
        }

        .current1 {
            letter-spacing: 0.1em;
            font-size: 1em;
            font-family: 'UnidreamLED', serif;
            color: #00ca6d;
            margin-top: 10px;
        }


        .fskimp {
            margin-left: 265px;
            margin-top: 166px;
            position: absolute;
        }

        .fskimp h3 {
            font-size: 0.6rem;
            color: #ffffff;
            opacity: 0.7;
        }

        .fskimp p {
            font-size: 0.5rem;
            color: #ffffff;
            opacity: 1;
            line-height: 31px;
            text-decoration: underline;
        }

        .fskstatus {
            font: 13px/23px 'PingFang SC', Arial, 'Microsoft YaHei', sans-serif;
            font-style: normal;
            font-variant-ligatures: normal;
            font-variant-caps: normal;
            font-variant-numeric: normal;
            font-variant-east-asian: normal;
            font-weight: normal;
            font-stretch: normal;
            font-family: "PingFang SC", Arial, "Microsoft YaHei", sans-serif;
        }

        .cssrun {
            position: absolute;
        }

        .ledrun1 {
            letter-spacing: 0.1em;
            font-size: 3em;
            font-family: 'UnidreamLED', serif;
            color: #ff0000;
            margin-top: 18px;
            font-style: normal;
            margin-left: -45px;

        }

        .ledrun2 {
            letter-spacing: 0.1em;
            font-size: 1em;
            font-family: 'UnidreamLED', serif;
            color: #00ff00;
            margin-top: 18px;
            font-style: normal;
            margin-left: 15px;

        }

        .ledrun3 {
            letter-spacing: 0.1em;
            font-size: 3em;
            font-family: 'UnidreamLED', serif;
            color: #0000ff;
            margin-top: 18px;
            font-style: normal;
            margin-left: 78px;

        }



        .ledsceen .cssrun {
            margin-top: -478px;
            margin-left: 90px;
            width: 253px;
            height: 133px;
            line-height: 100px;
            font-size: 2em;
            font-family: sans-serif;
            font-weight: bold;
            white-space: nowrap;
            overflow: hidden;
        }

        .ledsceen .cssrun {
            background: url(img/led.svg) no-repeat center center;
            color: #FBF2D5;
            transform-origin: left;
            transform: perspective(300px) rotateX(0deg);
        }


        .ledsceen .cssrun span {
            position: absolute;
            animation: marquee 5s linear infinite;

        }


        @keyframes marquee {
            from {
                left: 100%;
            }
            to {
                left: -130%;
            }
        }

        .checkspan{
            color: #409EFF;
        }

        .sliderclass{
            color: #606266;
        }
        .hdrslstyle{
            color: #606266;
        }

    </style>


    <link rel="icon" href="img/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/style.css">


    <script src="js/vue.min.js"></script>
    <script src="js/index.js"></script>
    <script src="js/echarts.min.js"></script>
    <script src="js/echarts-liquidfill.js"></script>
    <script src="js/jquery-3.3.1.min.js"></script>
</head>

<body >

<div class="index_content"  id="app">
    <div class="index_nav">
        <ul>
            <li class="l_left total_chose_fr  azm  nav_active" id="jk"><span class="nczm">洲明本地监控系统</span></li>
            <li class="r_right p1 sz "><span class="nc">系统配置</span></li>
            <li class="r_right p2 kz "><span class="nc">屏体控制</span></li>
        </ul>

        <div class="yh" id="byh">
            <span class="ncyh">admin</span>
            <div id="user_menu" class="um">
                <a class="bw" href="javascript:">账户</a>
                <a class="btc" href="/logout">退出</a>
            </div>
        </div>


    </div>
    <!-- <div class="bg bg-blur"></div>-->
    <div class="index_tabs">
        <!--安防运作-->
        <div class="tab" id="jkxt">
            <div class="left">
                <div class="left0"><h3 class="lt0">控制卡信息</h3>
                    <div class="kzqrun"></div>
                    <div class="azig"><img src="img/az.svg" alt=""></div>
                    <div class="mainbox">
                        <ul class="clearfix">
                            <li>
                                <div class="boxall" >
                                    <div class="sycm">
                                        <ul class="clearfix">
                                            <li><h2>型号</h2><span>安卓</span></li>
                                            <li><h2>版本</h2><span>1.01</span></li>
                                        </ul>
                                        <div  class="jkcontent" style="border-bottom: 1px solid rgba(255,255,255,.1)"></div>
                                        <ul class="clearfix">
                                            <li><h2>ip地址</h2><span v-for="cm in comlist">{{cm.LEDPARAS.ANDROID_IP}}</span></li>
                                            <li><h2>mac地址</h2><span v-for="cm in comlist">{{cm.LEDPARAS.ANDROID_MAC}}</span></li>
                                        </ul>
                                        <div class="jkcontent" style="border-bottom: 1px solid rgba(255,255,255,.1)"></div>
                                        <ul class="clearfix">
                                            <li><h2>通讯状态</h2><span>正常</span></li>
                                            <li><h2>信号强度</h2><span>强</span></li>
                                        </ul>
                                    </div>

                                    <div class="boxfoot"></div>
                                </div>
                            </li>
                            <li>

                            </li>
                        </ul>

                    </div>

                </div>
                <div class="left1">
                    <h3 class="lt1">发送卡信息</h3>
                    <h3 class="circle2" id="fskon"></h3>
                    <span id="fskonspan" class="fskstatus"></span>
                    <div id="show" class="timeshow">
                        <h2 class="curtitle">当前运行时间</h2>
                        <h3 id="ctime" class="current"></h3>
                    </div>

                    <!--<div id="show1" class="timeshow1">
                        <h2 class="curtitle1">累计时间</h2>
                        <h3 id="ctime1" class="current1"></h3>
                    </div>-->

                    <div class="mainbox1">
                        <ul class="clearfix1">
                            <li>
                                <div class="boxall1" >
                                    <div class="sycm1">
                                        <ul class="clearfix1">
                                            <li v-for="cm in comlist"><h2>型号</h2><span  v-for="(sd,index) in cm.LEDPARAS.SENDER_ORDER"  v-if="index==0">{{sd.SENDER_TYPE}}</span></li>
                                            <li v-for="cm in comlist"><h2>版本</h2><span v-for="(sd,index) in cm.LEDPARAS.SENDER_ORDER"   v-if="index==0">{{sd.VER}}</span></li>
                                            <li ><h2>通讯状态</h2><span>强</span></li>
                                        </ul>
                                        <div class="jkcontent" style="border-bottom: 1px solid rgba(255,255,255,.1)"></div>
                                        <ul class="clearfix1">
                                            <li  v-for="cm in comlist"><h2>ip地址</h2><span  v-for="(sd,index) in cm.LEDPARAS.SENDER_ORDER"  v-if="index==0">{{sd.IPADDR}}</span></li>
                                            <li  v-for="cm in comlist"><h2>mac地址</h2><span v-for="(sd,index) in cm.LEDPARAS.SENDER_ORDER"  v-if="index==0">{{sd.MACADDR}}</span></li>
                                            <li  v-for="cm in comlist"><h2>输入电压</h2><span v-for="(sd,index) in cm.LEDPARAS.SENDER_ORDER"  v-if="index==0">{{sd.VOLTAGE}}V</span></li>
                                        </ul>
                                    </div>

                                    <div class="boxfoot1"></div>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="fskimp" >
                        <ul>
                            <li>
                                <h3>发送卡网口数</h3>
                                <p><span >{{port_ordernum}}</span></p>
                            </li>
                        </ul>
                        <h3>带载箱体数</h3>
                        <p>{{sender_boxtotalnum}}</p>
                    </div>
                    <div class="fskrun"></div>
                    <div class="fskig"><img src="img/fsk.svg" alt=""></div>
                </div>
            </div>

            <div class="center">
                <h3 class="ct">LED屏体信息</h3>
                <div class="circle" id="ledon"></div>
                <span id="ledonspan" class="ledstatus"></span>

                <div class="mainbox2">
                    <ul class="clearfix2">
                        <li>
                            <div class="boxall2" >
                                <div class="sycm2">
                                    <ul class="clearfix2">
                                        <li><h2>屏体ID</h2><span  v-if="source.LEDSCREEN&&source.LEDSCREEN.INDEX">{{source.LEDSCREEN.INDEX}}</span></li>
                                        <li><h2>屏体分辨率</h2><span v-for="cm in comlist">{{cm.LEDPARAS.LED_RSLT}}</span></li>
                                        <li><h2>LED间距</h2><span v-for="cm in comlist">{{cm.LEDPARAS.LED_SPACE}}</span></li>
                                    </ul>
                                    <div class="jkcontent" style="border-bottom: 1px solid rgba(255,255,255,.1)"></div>
                                    <ul class="clearfix2">
                                        <li><h2>厂家</h2><span v-for="cm in comlist">{{cm.LEDPARAS.CUSTOM}}</span></li>
                                        <li><h2>屏体类型</h2><span v-for="cm in comlist">{{cm.LEDPARAS.LED_TYPE}}</span></li>
                                        <li><h2>屏体刷新率</h2><span>{{screenfresh}}</span></li>
                                    </ul>

                                    <div style="border-bottom: 1px solid rgba(255,255,255,.1)"></div>
                                    <ul class="clearfix2">
                                        <li><h2>通讯类型</h2><span >{{destination.INTERFACES}}</span></li>
                                        <li  v-for="cm in comlist"><h2>输入源</h2><span v-for="(sd,index) in cm.LEDPARAS.SENDER_ORDER"  v-if="index==0">{{sd.INPUTSOURCE}}</span></li>
                                        <li  v-for="cm in comlist"><h2>输入源刷新率</h2><span v-for="(sd,index) in cm.LEDPARAS.SENDER_ORDER"  v-if="index==0">{{sd.INSRC_FRE}}</span></li>
                                    </ul>

                                </div>

                                <div class="boxfoot2"></div>
                            </div>
                        </li>
                    </ul>
                </div>


                <div class="ledsceen">
                    <div class="cssrun">
                        <!-- <i class="ledrun1">L</i><i class="ledrun2">E</i><i class="ledrun3">D</i>-->
                        <span class="ledrun2" v-if="source.LEDSCREEN&&source.LEDSCREEN.INDEX">{{source.LEDSCREEN.INDEX}}</span>
                    </div>
                </div>
            </div>

            <div class="right">
                <div class="right0"><h3 class="rt0">光学参数信息</h3>
                    <div>
                        <div class="gx0" id="chartmain0"></div>
                    </div>
                </div>
                <div class="right1" style="display:none;"><h3 class="rt1">传感器信息</h3>
                    <div class="hjws" id="chartmain3"></div>
                    <div class="dy" id="chartmain1"></div>
                    <div title="开">
                        <div class="fs" id="fssvgturn"></div>
                    </div>
                    <div class="dl" id="chartmain2"></div>
                </div>
            </div>

            <div class="container-flex" tabindex="0" hidefocus="true">
                <div class="box-center">
                    <div class="center-bottom">
                        <div class="city-data">
                            <div id="tuopu">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="pop-up">
                    <span class="close-pop"></span>
                    <h2 id="boxTitle" class="title"></h2>
                    <h3>
                        <b>箱体型号:<span id="productTitle" style="color: white;"></span></b></h3>
                    <!-- 模组信息弹框 -->
                    <div  class="modedetail" >
                        <!-- 模组信息 -->
                        <h2>
                            <b>模组信息</b>
                        </h2>
                        <ul style="width:340px;font-size: 15px;margin-left: 60px;margin-top: 10px;line-height: 30px;">
                            <!-- 分辨率 -->
                            <li style="color: #0e94eb;">
                                分辨率：<b><span id="MOD_RSL" style="color: #E9E7E7;margin-left: 100px;"></span></b>
                            </li>
                            <!-- 间距 -->
                            <li style="color: #0e94eb;margin-top: 13px;">
                                间距：<b><span id="MOD_SPACE" style="color: #E9E7E7;margin-left: 119px;"></span></b>
                            </li>
                            <!-- 分割线 -->
                            <li class="fengexian"></li>
                            <!-- 规格类型 -->
                            <li style="color: #0e94eb;margin-top: 13px;">
                                规格型号：<b><span id="LAMP_PARA_STYLE" style="color: #E9E7E7;margin-left: 81px;"></span></b>
                            </li>
                            <!-- 亮度 -->
                            <li style="color: #0e94eb;margin-top: 13px;">
                                亮度：<b><span id="LAMP_PARA_BRIGHT" style="color: #E9E7E7;margin-left: 119px;"></span></b>
                            </li>
                            <!-- 发光亮度 -->
                            <li style="color: #0e94eb;margin-top: 13px;">
                                发光角度：<b><span id="LAMP_PARA_ANGLE" style="color: #E9E7E7;margin-left: 81px;"></span></b>
                            </li>

                            <!-- 扫描方式 -->
                            <li style="color: #0e94eb;margin-top: 13px;">
                                扫描方式：<b><span id="MOD_SCAN_NUM" style="color: #E9E7E7;margin-left: 81px;"></span></b>
                            </li>
                        </ul>
                    </div>
                    <div class="set-div">
                        <div class="sensor_Message" >
                            <label class="four-f">&nbsp;&nbsp;&nbsp;传感器</label>
                            <div class="didimen1">
                                <ul class="sensor_Message_1">
                                    <li style="margin-top: 8px;color: #0e94eb;">电压：<span id="SENSOR_VOL" style="color: #E9E7E7"></span></li>
                                    <li style="margin-top: 8px;color: #0e94eb;">电流：<span id="SENSOR_CURRENT" style="color: #E9E7E7">A</span></li>
                                    <li style="margin-top: 8px;color: #0e94eb;">亮度范围：<span id="SENSOR_BRI" style="color: #E9E7E7">cd/m²</span></li>
                                </ul>
                                <ul class="tempoge">
                                    <li style="margin-top: 8px;color: #0e94eb;">温度：<span id="SENSOR_TMP" style="color: #E9E7E7">℃</span></li>
                                    <li style="margin-top: 8px;color: #0e94eb;">湿度：<span id="SENSOR_HUMI" style="color: #E9E7E7">%RH</span></li>
                                </ul>
                            </div>
                        </div>
                        <div class="driverIc">
                            <label >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;驱动IC</label>
                            <div class="didimen2">
                                <ul style="margin-left:12px;margin-top:4px;">
                                    <li style="margin-top: 8px;color: #0e94eb;"><span id="ICSYLE" style="color: #E9E7E7"></span></li>
                                </ul>
                            </div>
                        </div>
                        <div class="Power_Message" >
                            <label >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;电源：</label>
                            <div class="didimen3" >
                                <ul style="margin-left:12px;margin-top:-4px;">
                                    <li style="margin-top: 8px;color: #0e94eb;">最大功率：<span id="MAX_POWER" style="color: #E9E7E7"></span></li>
                                    <li style="margin-top: 8px;color: #0e94eb;">电压：<span id="VOLTAGE" style="color: #E9E7E7"></span></li>
                                    <li style="margin-top: 8px;color: #0e94eb;">实际功率：<span id="RT_POWERDIS" style="color: #E9E7E7"></span></li>
                                    <li style="margin-top: 8px;color: #0e94eb;">平均功率：<span id="AVE_POWERDIS" style="color: #E9E7E7"></span></li>
                                </ul>
                            </div>
                        </div>

                        <!-- 模组拓扑 -->
                        <div class="module-model">
                            <!--  模组1 -->
                            <div class="module1" onclick="aiguozhe('unilumin')" >

                            </div>
                            <!--  模组2 -->
                            <div class="module2" onclick="aiguozhe('unilumin')" >

                            </div>
                            <!--  模组3 -->
                            <div class="module3" onclick="aiguozhe('unilumin')" >

                            </div>
                            <!--  模组4 -->
                            <div class="module4" onclick="aiguozhe('unilumin')" >

                            </div>

                            <!--  模组5 -->
                            <div class="module5" onclick="aiguozhe('unilumin')" >

                            </div>

                            <!--  模组6-->
                            <div class="module6" onclick="aiguozhe('unilumin')" >

                            </div>

                            <!--  模组7-->
                            <div class="module7" onclick="aiguozhe('unilumin')" >

                            </div>

                            <!--  模组8-->
                            <div class="module8" onclick="aiguozhe('unilumin')" >

                            </div>
                        </div>
                        <div class="rec_Message" >

                            <label >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;接收卡信息：</label>
                            <div class="didimen4">
                                <ul style="margin-left:12px;margin-top:-4px;">
                                    <li style="margin-top: 8px;color: #0e94eb;">接收卡名称：<span id="rec_Id" style="color: #E9E7E7"></span></li>
                                    <li style="margin-top: 8px;color: #0e94eb;">接收卡个数：<span id="rec_Count" style="color: #E9E7E7"></span></li>
                                    <li style="margin-top: 8px;color: #0e94eb;">版本号：<span id="REC_VER" style="color: #E9E7E7"></span></li>
                                    <li style="margin-top: 8px;color: #0e94eb;">带载面积：<span id="REC_Carrying_Area" style="color: #E9E7E7">m㎡</span></li>
                                    <li style="margin-top: 8px;color: #0e94eb;">接收卡工作状态：<span id="BOX_MASTER" style="color: #E9E7E7"></span></li>
                                    <li style="margin-top: 8px;color: #0e94eb;">网口状态：<span id="PORT_MASTER" style="color: #E9E7E7"></span></li>
                                    <li style="margin-top: 8px;color: #0e94eb;">电源状态：<span id="POWER_MASTER" style="color: #E9E7E7"></span></li>
                                </ul>
                            </div>
                        </div>
                        <div class="module_Message" >
                            <label >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;模组信息：</label>
                            <div class="didimen5">
                                <ul style="margin-left:12px;margin-top:-4px;">
                                    <li style="margin-top: 8px;color: #0e94eb;">模组个数：<span id="MOD_ORDER" style="color: #E9E7E7"></span></li>
                                    <li style="margin-top: 8px;color: #0e94eb;">正常模组：<span id="MOD_NORMAL" style="color: #E9E7E7"></span></li>
                                    <li style="margin-top: 8px;color: #0e94eb;">故障模组：<span id="MOD_FAULT" style="color: #E9E7E7"></span></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- 箱体设置 -->
        <div class="tab" style="display: none;">
            1
            <div id="boxconnect">
                <div class="addtab">
                    <span>显示屏数量：</span>
                    <el-input-number v-model="pingti_num" @change="handleChange_pingti" @focus="becomeReadOnly" :min="1" :max="999" label="描述文字"></el-input-number>
                </div>
                <!--发送卡选择-->
                <div class="selectSender">
                    <label>
                        <b>发送卡：</b>
                    </label>
                    <template>
                        <el-select v-model="singleSender" size="small" @change="changSender(singleSender)" placeholder="请选择">
                            <el-option
                                    v-for="item in senderItem"
                                    :key="item.value"
                                    :label="item.label"
                                    :value="item.value">
                            </el-option>
                        </el-select>
                    </template>
                </div>
                <!--屏幕选择-->
                <el-tabs v-model="editableTabsValue" @tab-click="senderTabClick" type="card" >
                    <el-tab-pane
                            v-for="(item, index) in editableTabs"
                            :key="item.name"
                            :label="item.title"
                            :name="item.name"
                    >
                        <h1>参数设置-{{item.content}}</h1>
                        <div class="portRow">
                            <div class="portRow-Label">
                                <label>发送卡网口设置</label>
                            </div>
                            <el-radio-group v-model="port_radio" @change="choosePort" size="small">
                                <el-radio-button label="P1"></el-radio-button>
                                <el-radio-button label="P2" ></el-radio-button>
                                <el-radio-button label="P3"></el-radio-button>
                                <el-radio-button label="P4"></el-radio-button>
                            </el-radio-group>

                            <el-radio-group v-model="port_radio" @change="choosePort" size="small">
                                <el-radio-button label="P5"></el-radio-button>
                                <el-radio-button label="P6"></el-radio-button>
                                <el-radio-button label="P7"></el-radio-button>
                                <el-radio-button label="P8"></el-radio-button>
                            </el-radio-group>

                            <div class="port-smallNum">
                                <el-radio-group v-model="port_radio" @change="choosePort" size="small">
                                    <el-radio-button label="P9"></el-radio-button>
                                    <el-radio-button label="P10"></el-radio-button>
                                    <el-radio-button label="P11"></el-radio-button>
                                    <el-radio-button label="P12"></el-radio-button>
                                </el-radio-group>
                            </div>

                            <div class="port-meidunNum">
                                <el-radio-group v-model="port_radio" @change="choosePort" size="small">
                                    <el-radio-button label="P13"></el-radio-button>
                                    <el-radio-button label="P14"></el-radio-button>
                                    <el-radio-button label="P15"></el-radio-button>
                                    <el-radio-button label="P16"></el-radio-button>
                                </el-radio-group>
                            </div>
                        </div>
                        <div class="pianyiliang">
                            <h2>发送卡偏移量</h2>
                            <div class="XXX">
                                <label>偏移量-X</label>
                                <el-input-number v-model="pianyinumX" controls-position="right" @change="handleChange_pianyiliangX" size="mini" :min="-1000" :max="1000"></el-input-number>
                            </div>

                            <div class="YYY">
                                <label>偏移量-Y</label>
                                <el-input-number v-model="pianyinumY" controls-position="right" @change="handleChange_pianyiliangY" size="mini" :min="-1000" :max="1000"></el-input-number>
                            </div>
                            <div class="context">
                                <label>偏移量</label>
                                <h2>(  {{pianyinumX}},{{pianyinumY}} )</h2>
                            </div>
                        </div>
                        <div class="pingti-option">
                            <div class="row-label">
                                <label>接收卡列数</label>
                            </div>
                            <el-input-number v-model="rowNum" size="mini" @change="handleRowChange" :min="0" :max="999" label="描述文字"></el-input-number>

                            <div class="line-counter">
                                <div class="row-label" >
                                    <label>接收卡行数</label>
                                </div>
                                <el-input-number v-model="lineNum" size="mini" @change="handleLineChange" :min="0" :max="999" label="描述文字"></el-input-number>
                            </div>
                        </div>
                        <div class="boxType">
                            <label>箱体类型：</label>
                            <el-input v-model="boxtype" placeholder="箱体类型"></el-input>
                        </div>
                        <div class="box-width-height">
                            <div class="box_width">
                                <label>箱体宽度:</label>
                                <el-input
                                        size="mini"
                                        placeholder="箱体宽度"
                                        v-model="box_width"
                                        :disabled="true">
                                </el-input>
                            </div>
                            <div class="box_height">
                                <label>箱体长度:</label>
                                <el-input
                                        size="mini"
                                        placeholder="箱体长度"
                                        v-model="box_height"
                                        :disabled="true">
                                </el-input>
                            </div>
                        </div>
                        <h1>箱体连接-{{item.content}}</h1>
                        <div class="box-connetor">
                            <el-button type="primary" @click="connetorfirst" plain>主要按钮</el-button>
                            <el-button type="success" @click="connetorSecond" plain>成功按钮</el-button>
                            <div class="secondhang">
                                <el-button type="info" @click="connetorthird" plain>信息按钮</el-button>
                                <el-button type="warning" @click="connetorFouth" plain>警告按钮</el-button>
                            </div>
                        </div>
                    </el-tab-pane>
                </el-tabs>

                <div class="box-Connect-box">
                    <canvas id="box-canvas" width="10350" height="7600" style="position: absolute;"> 你的浏览器不支持 canvas，请升级你的浏览器。</canvas>
                </div>
            </div>
        </div>

        <div class="tab" style="display:none">
            <!-- <div class="onbutton">
                 开关屏
             </div>-->

            <div id="ledswitch">
                <el-switch
                        v-model="status1"
                        @change="swichchange"
                        active-color="#13ce66"
                        inactive-color="#ff4949" active-text="HDR开" inactive-text="HDR关">
                </el-switch>
                <span id="bitnum">16位</span>
            </div>

            <div id="ledslider" class="ledph">
                <template>
                    <div class="ledph1">
                        <div class="block"  >
                            <span class="demonstration">亮度[0-100]</span>
                            <span >{{value1}}</span>
                            <el-slider  @change="onChangeValue1"   v-model="value1"></el-slider>
                        </div>
                        <div class="block">
                            <span class="demonstration">色相[-20-20]</span>
                            <span>{{value2}}</span>
                            <el-slider  @change="onChangeValue2"  v-model="value2" :min="-20" :max="20"></el-slider>
                        </div>

                        <div class="block">
                            <span class="demonstration">色度[0-200]</span>
                            <span >{{value4}}</span>
                            <el-slider   @change="onChangeValue4" v-model="value4" :min="0" :max="200"></el-slider>
                        </div>
                        <div class="block">
                            <span class="demonstration" style="color: #606266">色温</span>
                            <!-- <span>{{value3}}</span>-->
                            <el-slider v-model="value3"  disabled ></el-slider>
                        </div>
                    </div>

                    <div class="ledph2">
                        <div class="block">
                            <span class="demonstration sliderclass" id="hdrslider">HDR[0-100]</span>
                            <span id="hdrslidervalue" class="hdrslstyle">{{value5}}</span>
                            <el-slider v-model="value5" @change="onChangeValue5"  max="100" v-bind:disabled="!status1"></el-slider>
                        </div>

                        <div class="block">
                            <span class="demonstration" style="color: #606266">灰度增益</span>
                            <!-- <span>{{value6}}</span>-->
                            <el-slider v-model="value6"  disabled ></el-slider>
                        </div>
                        <div class="block">
                            <span class="demonstration" style="color: #606266">灰度基准值</span>
                            <!--  <span>{{value7}}</span>-->
                            <el-slider v-model="value7"  disabled ></el-slider>
                        </div>
                        <div class="block">
                            <span class="demonstration" style="color: #606266">增强器调整</span>
                            <!--<span>{{value8}}</span>-->
                            <el-slider v-model="value8"  disabled ></el-slider>
                        </div>
                    </div>


                </template>
            </div>


            <div id="input">
                <template>
                    <el-select v-model="fblvalue"  @change="onChangeFblvalue"  placeholder="请选择分辨率">
                        <el-option
                                v-for="item in fbloptions"
                                active-text="正常"
                                inactive-text="默认"
                                :key="item.fblvalue"
                                :label="item.label"
                                :value="item.fblvalue">
                        </el-option>
                    </el-select>
                </template>
            </div>

            <div id="input1">
                <template>
                    <el-select v-model="gmvalue"   @change="changegmavalue" placeholder="请选择GAMMA">
                        <el-option
                                v-for="item in gmoptions"
                                active-text="正常"
                                inactive-text="默认"
                                :key="item.gmvalue"
                                :label="item.label"
                                :value="item.gmvalue">
                        </el-option>
                        <!--<el-option
                                v-for="item in gmoptions2"
                                active-text="正常"
                                inactive-text="默认"
                                :key="item.gmvalue"
                                :label="item.label"
                                :value="item.gmvalue">
                        </el-option>-->
                    </el-select>
                </template>
            </div>

            <div id="ledradio">
                <template>
                    <el-radio-group v-if="radio!=null" @change="onChangeRadio" v-model="radio">
                        <el-radio v-model="radio"  label="HDMI"><span id="hdmitext">HDMI 无信号</span></el-radio>
                        <el-radio v-model="radio"  label="DVI-D"><span id="dvitext">DVI-D 无信号</span></el-radio>
                        <el-radio v-model="radio"  label="SDI"><span id="sditext">SDI 无信号</span></el-radio>
                        <!--  <el-radio v-model="radio"  label="DP">DP</el-radio>-->
                    </el-radio-group>
                </template>
            </div>

        </div>

        <div class="tab" style="display: none">
            3
        </div>

    </div>


</div>
</body>


<script>

    /**
     * 绘制图表所需的全局变量
     * */
    var area_port = "P1";

    let _self = null;
    let websocket = null;
    let demo = new Vue({
        el: '#app',
        data () {
            return {
                /**
                 * 屏体设置所需参数
                 * */
                //屏体数量:
                pingti_num:1,
                last_pingti_num:undefined,
                //当前发送卡
                singleSender:'sender1',
                //发送卡列表
                senderItem:[{
                    value: 'sender1',
                    label: '发送卡1'
                }],
                //箱体长度
                box_height:'',
                //箱体宽度
                box_width: '',
                //箱体类型
                boxtype: '',
                //偏移量-X
                pianyinumX: 0,
                //偏移量-Y
                pianyinumY: 0,
                //接收卡列数
                rowNum: 0,
                //接收卡行数
                lineNum: 0,
                //网口选择
                port_radio:'P1',
                //tab起始值
                editableTabsValue: '1',
                //tab数据
                editableTabs: [{
                    title: '屏体 1',
                    name: '1',
                    content: '屏体 1',
                    contextbody:{
                        row: 0,
                        line: 0,
                        port: [{
                            name:'P1',
                            id:'',
                            box:[
                                {
                                   id:'',
                                   order:'',
                                   xpos:'',
                                   ypos:'',
                                   pianyiliangx:'',
                                   pianyiliangy:''
                                }
                            ]

                        }]
                    }
                }],

                //设置下发参数
                senderList:[
                    {
                        id:"",
                        //屏幕分割数 ---常量1
                        scrs:1,
                        // 设置图像输出开始位置（水平）
                        hscr:"",
                        // 设置图像输出开始位置（垂直）
                        vscr:"",
                        // 输出通道水平位置数-X 网口
                        horiNum:"",
                        // 输出通道垂直位置数-Y 网口
                        vertNum:"",
                        // 配置箱体信息
                        pSet:{
                            //箱体类型
                            boxName:"",
                            // 每个接收卡有多少个模组  IM /接收卡数量（0-3位：垂直   4-7位：水平）
                            perRecMod:"",
                            // 每个箱体有多少个接收卡  接收卡/箱体的数量（0-3位：垂直   4-7位：水平）
                            perPanelRec:"1",
                            // 模组的横向像素
                            modHPixel:"",
                            // 模组的纵向像素
                            modVPixel:""
                        },
                        // 配置输出通道的布局
                        outputConfs:[
                            {
                                // 输出板号---1
                                boardNum:"",
                                // 输出通道号----1,2,3,4,-配置网口排序
                                channelNum:""
                            }
                        ],
                        // 网口配置
                        portConfs:[
                            {
                                //1~8--网口X坐标
                                xPos:"",
                                //网口坐标  1~2---网口Y坐标
                                yPos:"",
                                // 单个网口对应的箱体行数
                                boxRow:"",
                                // 单个网口对应的箱体列数
                                boxColumn:"",
                                // 输出图像的水平起始位置（输出分辨率）
                                host:"",
                                // 输出图像的垂直起始位置（输出分辨率）
                                vost:"",
                                // 网口带载的箱体
                                boxConfs:[
                                    {
                                        //  箱体X坐标
                                        xPos:"",
                                        //  箱体Y坐标
                                        yPos:"",
                                        // 箱体的连接顺序
                                        boxOder:"",
                                        // 输出图像的箱体水平起始位置（输出分辨率）
                                        lbdh:"",
                                        // 输出图像的箱体垂直起始位置（输出分辨率）
                                        lbdv:""
                                    }
                                ]
                            }
                        ]
                    }
                ],



                tabIndex: 1,

                comlist:"",
                destination:"",
                source:"",
                bright:"",
                gamma:"",
                chroma:"",
                contrast:"",
                saturability:"",
                hue:"",
                envi_bright:"",
                temp:"",
                humidity:"",
                voltage:"",
                fan_ctrl:"",
                current:"",

                ledid:"",
                fsstatusvue:"",

                senderstatuslist:"",
                senderid:"",
                hostip:"",
                senderstatus:"",

                port_ordernum:"",
                sender_boxtotalnum:"",

                screenfresh:"",

                inputsource:"",
                led_rslt:"",

                status1: false,
                value1: "",
                value2: "",
                value3: "",
                value4: "",
                value5: "",
                value6: "",
                value7: "",
                value8: "",

                radio:"",

                fbloptions: [{
                    fblvalue: '1920*1080',
                    label: '1920*1080'
                }, {
                    fblvalue: '1280*1024',
                    label: '1280*1024'
                }, {
                    fblvalue: '2560*1600',
                    label: '2560*1600'
                }, {
                    fblvalue: '3840*2160',
                    label: '3840*2160'
                }],
                fblvalue: '',
                gmoptions: [ {
                    gmvalue: '0',
                    label: '1.8'
                },{
                    gmvalue: '1',
                    label: '2'
                }, {
                    gmvalue: '2',
                    label: '2.2'
                }, {
                    gmvalue: '3',
                    label: '2.4'
                }, {
                    gmvalue: '4',
                    label: '2.5'
                },{
                    gmvalue: '5',
                    label: '2.8'
                },{
                    gmvalue: '6',
                    label: '3'
                },{
                    gmvalue: '7',
                    label: 'linear'
                }],
                /*  gmoptions2:[{
                      gmvalue: 'SDR->HDR',
                      label: 'SDR->HDR'
                  },{
                  gmvalue: 'HLG',
                  label: 'HLG'
              },{
                  gmvalue: 'PQ',
                  label: 'PQ'
              }],*/
                gmvalue: '',
            }
        },
        mounted () {
            let count=0;
            _self = this;
            // let websocket = null;
            //判断当前浏览器是否支持WebSocket
            if ('WebSocket' in window) {
                let serverhost = "ws://" + window.location.hostname + ":" + "9090";
                websocket = new WebSocket(serverhost);
            } else {
                alert('当前浏览器不支持websocket');
            }
            //连接发生错误的回调方法
            websocket.onerror = function () {
                console.log("WebSocket连接发生错误");
                heartCheck.reset();
            };
            //连接成功建立的回调方法
            websocket.onopen = function () {
                console.log("WebSocket连接成功");
                heartCheck.start();
            };
            //接收到消息的回调方法
            websocket.onmessage = function (event) {
                console.log(event.data);
                try{
                    let respJsonScreenObj = JSON.parse(event.data);
                    console.log("respJsonScreenObj"+respJsonScreenObj);
                    let type;
                    type=respJsonScreenObj.type;
                    console.log("第一次收到数据"+count);
                    console.log(type);
                    switch (type) {
                        case 100:
                            /*  if(respJsonScreenObj.respContent==null||respJsonScreenObj.respContent===""){
                                  window.location.reload();
                              }*/

                            let jsonScreenObj = JSON.parse(respJsonScreenObj.respContent);
                            console.log("respJsonScreenObj.respContent监控"+respJsonScreenObj.respContent);
                            console.log("jsonScreenObj监控"+jsonScreenObj);
                            _self.ledid=jsonScreenObj.SOURCE.LEDSCREEN.INDEX;

                            _self.senderstatus="1";


                            /*if (_self.senderstatus === "1") {
                                $("#fskon").css({"background-color": "green"});
                                $("#fskonspan").html("在线");
                            } else if(_self.senderstatus === "0"||_self.senderstatus===''||typeof (_self.senderstatus)==="undefined"){
                                $("#fskon").css({"background-color": "red"});
                                $("#fskonspan").html("离线");
                            }else{
                                $("#fskon").css({"background-color": "yellow"});
                                $("#fskonspan").html("故障");
                            }*/
                            if (_self.senderstatus === "1") {
                                $("#fskon").css({"background-color": "green"});
                                $("#fskonspan").html("在线");
                                $("#ledon").css({"background-color": "green"});
                                $("#ledonspan").html("在线");
                                $("#ledonspan").css({"color":"green"});
                            } else{
                                $("#fskon").css({"background-color": "red"});
                                $("#fskonspan").html("离线");
                                _self.ledid="";
                                $("#ledon").css({"background-color": "red"});
                                $("#ledonspan").html("离线");
                                $("#ledonspan").css({"color":"red"});
                            }

                            console.log("_self.ledid"+_self.ledid);

                            if (_self.ledid === ''||typeof (_self.ledid)==="undefined") {
                                $("#ledon").css({"background-color": "red"});
                                $("#ledonspan").html("离线");
                                $("#ledonspan").css({"color":"red"});
                            } else {
                                $("#ledon").css({"background-color": "green"});
                                $("#ledonspan").html("在线");
                            }



                            _self.comlist = jsonScreenObj.COMLIST;
                            console.log("_self.comlist", _self.comlist);
                            console.log("_self.comlist", _self.comlist.length);
                            _self.destination = jsonScreenObj.DESTINATION;
                            _self.source = jsonScreenObj.SOURCE;
                            let ledlist = _self.comlist;
                            let i;
                            _self.port_ordernum=0;
                            _self.sender_boxtotalnum=0;
                            for (i in ledlist) {
                                /* _self.fsstatusvue=ledlist[i].LEDPARAS.FAN_CTRL;


                                 if (_self.fsstatusvue==="1") {
                                     $("#fssvgturn").addClass("fs1");
                                 } else {
                                     $("#fssvgturn").removeClass("fs1");
                                 }
*/
                                _self.contrast=ledlist[i].LEDPARAS.CONTRAST;
                                _self.saturability=ledlist[i].LEDPARAS.SATURABILITY;
                                /*_self.hue = ledlist[i].LEDPARAS.HUE;*/
                                /* if(count===0){
                                     _self.value2 = parseInt(ledlist[i].LEDPARAS.HUE);
                                 }*/
                                _self.envi_bright= ledlist[i].LEDPARAS.ENVI_BRIGHT;
                                _self.temp= ledlist[i].LEDPARAS.TEMP;
                                _self.humidity= ledlist[i].LEDPARAS.HUMIDITY;
                                _self.voltage= ledlist[i].LEDPARAS.VOLTAGE;
                                _self.fan_ctrl= ledlist[i].LEDPARAS.FAN_CTRL;
                                _self.current= ledlist[i].LEDPARAS.CURRENT;
                                let senderlist = ledlist[i].LEDPARAS.SENDER_ORDER;
                                /*let portorderonelist=senderlist[0].PORT_ORDER;
                                    let boxonelist=portorderonelist[0].BOX;
                                    let reonelist=boxonelist[0].REC;
                                    _self.screenfresh=reonelist[0].REFRESH;*/
                                let j;

                                for (j in senderlist) {

                                    if(count===0){
                                        _self.value2 = parseInt(senderlist[j].HUE);
                                    }

                                    _self.bright = senderlist[j].BRIGHT;

                                    _self.hue =  senderlist[j].HUE;



                                    let portorderlist=senderlist[j].PORT_ORDER;
                                    let t;
                                    for(t in portorderlist){
                                        let boxlist=portorderlist[t].BOX;

                                        if(boxlist[0].BOX_STATE === "1"){
                                            _self.port_ordernum +=1;
                                            console.log( "_self.port_ordernum"+ _self.port_ordernum);
                                        }
                                        let  reccardlist=boxlist[0].REC;
                                        _self.screenfresh=reccardlist[0].REFRESH;
                                        console.log("_self.screenfresh"+_self.screenfresh);

                                    }

                                    /* _self.port_ordernum +=  parseInt(senderlist[j].PORT_ORDER.length);*/
                                    _self.sender_boxtotalnum+= parseInt(senderlist[j].SENDER_BOXUSED);

                                    if(count===0){
                                        _self.value1 = parseInt(senderlist[j].BRIGHT);
                                        /* _self.gmvalue= senderlist[j].GAMMA;*/
                                    }
                                    _self.gamma  = senderlist[j].GAMMA;

                                    _self.chroma = senderlist[j].CHROMA;
                                    if(count===0){
                                        _self.value3=senderlist[j].CHROMA;
                                    }
                                    _self.inputsource = senderlist[j].INPUTSOURCE;
                                    if(count===0){
                                        console.log("senderlist[j].INPUTSOURCE"+senderlist[j].INPUTSOURCE);
                                        console.log("senderlist[j].INSRC_RSLT"+senderlist[j].INSRC_RSLT);
                                        console.log("senderlist[j].INSRC_FRE"+senderlist[j].INSRC_FRE);
                                        let   sourceCont1;
                                        let   sourceCont2;
                                        let   sourceCont3;

                                        if(typeof(senderlist[j].INPUTSOURCE)==="undefined"){
                                            sourceCont1="";
                                            console.log("if sourceCont1"+sourceCont1);
                                        }else{
                                            sourceCont1= senderlist[j].INPUTSOURCE;
                                        }

                                        if(typeof(senderlist[j].INSRC_RSLT)==="undefined"){
                                            sourceCont2="";
                                            console.log("if sourceCont2"+sourceCont2);
                                        }else{
                                            sourceCont2= senderlist[j].INSRC_RSLT;
                                        }

                                        if(typeof(senderlist[j].INSRC_FRE)==="undefined"){
                                            sourceCont3="";
                                        }else{
                                            sourceCont3= senderlist[j].INSRC_FRE;
                                        }

                                        _self.radio = sourceCont1;
                                        if(_self.radio==="HDMI"){
                                            $("#hdmitext").text(sourceCont1 +" "+ sourceCont2 +" "+ sourceCont3);
                                            $("#hdmitext").addClass("checkspan");
                                        }else if(_self.radio==="DVI-D"){
                                            $("#dvitext").text(sourceCont1 +" "+ sourceCont2 +" "+ sourceCont3);
                                            $("#dvitext").addClass("checkspan");
                                        }else if(_self.radio==="SDI"){
                                            $("#sditext").text(sourceCont1 +" "+ sourceCont2+" " + sourceCont3);
                                            $("#sditext").addClass("checkspan");
                                        }else{
                                            console.log("未识别到输入源");
                                        }

                                    }
                                    _self.led_rslt = senderlist[j].INSRC_RSLT;
                                    if(count===0){
                                        _self.fblvalue = senderlist[j].INSRC_RSLT;
                                    }

                                }

                            }
                            count++;



                            /*let fskpo = 1;
                            if (fskpo === 1) {
                                $("#fskon").css({"background-color": "green"});
                                $("#fskonspan").html("在线");
                            } else {
                                $("#fskon").css({"background-color": "red"});
                                $("#fskonspan").html("离线");
                            }*/




                            /* console.log("port_ordernum",port_ordernum);
                             console.log("sender_boxtotalnum",sender_boxtotalnum);*/

                            console.log("radio"+_self.radio);
                            console.log("第二次收到数据"+count);
                            console.log("i", i);
                            console.log("ledlist[i]", ledlist[i]);
                            console.log("_self.bright", _self.bright);
                            console.log("ledlist", ledlist);
                            /*  console.log("jsonScreenObj", jsonScreenObj);*/
                            console.log("comlist", _self.comlist);
                            console.log("destination", _self.destination);
                            console.log("source", _self.source);
                            let nowdt = new Date().getTime();
                            console.log("现在接收完数据后的时间" + nowdt.toString());
                            break;
                        //亮度
                        case   7:
                            /*  let brightObj = JSON.parse(respJsonScreenObj.respContent);*/
                            _self.value1=respJsonScreenObj.respContent;
                            break;


                        //发送卡状态

                        case  8:
                            let senderstatuslistobj= JSON.parse(respJsonScreenObj.respContent);
                            console.log("senderstatuslistobj"+senderstatuslistobj);
                            _self.senderstatuslist=senderstatuslistobj;
                            let sdslobj=_self.senderstatuslist;
                            _self.senderstatus =sdslobj[0].status;
                            _self.senderid =sdslobj[0].senderId;
                            _self.hostip =sdslobj[0].hostIp;
                            console.log("_self.senderstatus",_self.senderstatus);
                            console.log("_self.senderid",_self.senderid);
                            console.log("_self.hostip",_self.hostip);
                            if (_self.senderstatus === "1") {
                                $("#fskon").css({"background-color": "green"});
                                $("#fskonspan").html("在线");
                                $("#fskonspan").css({"color":"green"});

                                $("#ledon").css({"background-color": "green"});
                                $("#ledonspan").html("在线");
                            } else{
                                $("#fskon").css({"background-color": "red"});
                                $("#fskonspan").html("离线");
                                $("#fskonspan").css({"color":"red"});
                                _self.ledid="";
                                $("#ledon").css({"background-color": "red"});
                                $("#ledonspan").html("离线");
                                $("#ledonspan").css({"color":"red"});
                            }
                            /*  if (_self.senderstatus === "1") {
                                  $("#fskon").css({"background-color": "green"});
                                  $("#fskonspan").html("在线");
                              } else if(_self.senderstatus === "0"||_self.senderstatus===''||typeof (_self.senderstatus)==="undefined"){
                                  $("#fskon").css({"background-color": "red"});
                                  $("#fskonspan").html("离线");
                              }else{
                                  $("#fskon").css({"background-color": "yellow"});
                                  $("#fskonspan").html("故障");
                        }*/
                            /* let k;
                             for(k in senderstatuslistobj){
                                 _self.senderid =senderstatuslistobj[k].senderId;
                                 _self.hostip =senderstatuslistobj[k].hostIp;
                                 _self.senderstatus =senderstatuslistobj[k].status;
                             }*/
                            break;
                        //色度
                        case   14:
                            /*  let brightObj = JSON.parse(respJsonScreenObj.respContent);*/
                            _self.value4=respJsonScreenObj.respContent;
                            break;

                        //色相
                        case   15:
                            /*  let brightObj = JSON.parse(respJsonScreenObj.respContent);*/
                            _self.value2=respJsonScreenObj.respContent;
                            break;

                        //gama
                        case   17:
                            /*  let brightObj = JSON.parse(respJsonScreenObj.respContent);*/
                            _self.gmvalue=respJsonScreenObj.respContent;
                            break;
                        //分辨率
                        case   18:
                            /* let led_rsltStrObj = JSON.parse(respJsonScreenObj.respContent);*/
                            _self.fblvalue = respJsonScreenObj.respContent;
                            break;
                        //输入源 分辨率 刷新率
                        case   19:
                            let inputsourceObj = JSON.parse(respJsonScreenObj.respContent);
                            _self.radio = inputsourceObj.iNPUTSOURCE;
                            if(_self.radio==="HDMI"){
                                $("#hdmitext").text(inputsourceObj.iNPUTSOURCE+" "+inputsourceObj.iNSRC_RSLT+" "+inputsourceObj.iNSRC_FRE);
                                $("#hdmitext").addClass("checkspan");
                            }else if(_self.radio==="DVI-D"){
                                $("#dvitext").text(inputsourceObj.iNPUTSOURCE+" "+inputsourceObj.iNSRC_RSLT+" "+inputsourceObj.iNSRC_FRE);
                                $("#dvitext").addClass("checkspan");
                            }else if(_self.radio==="SDI"){
                                $("#sditext").text(inputsourceObj.iNPUTSOURCE+" "+inputsourceObj.iNSRC_RSLT+" "+inputsourceObj.iNSRC_FRE);
                                $("#sditext").addClass("checkspan");
                            }else{
                                console.log("未识别到输入源");
                            }
                            break;

                        //hdr开关
                        case   20:
                            /*  let brightObj = JSON.parse(respJsonScreenObj.respContent);*/
                            /*   _self.value2=respJsonScreenObj.respContent;*/
                            if(respJsonScreenObj.respContent==="1"){
                                _self.status1=true;
                            }else{
                                _self.status1=false;
                            }
                            break;
                        //hdr设置
                        case   21:
                            /* let led_rsltStrObj = JSON.parse(respJsonScreenObj.respContent);*/
                            _self.value5 = respJsonScreenObj.respContent;

                            break;
                        //心跳
                        case   99:
                            /* let pingObj = JSON.parse(respJsonScreenObj.respContent);*/
                            let pingObj = respJsonScreenObj.respContent;
                            /*  console.log("respJsonScreenObj.respContent心跳"+respJsonScreenObj.respContent);*/
                            console.log("pingObj心跳"+pingObj);
                            break;
                        default:
                            console.log("数据异常");
                    }
                }catch(e){
                    /* heartCheck.reset();*/
                    console.log("不是json格式的数据"+e);
                }


                let option0 = {
                    /* title: {
                         text: '水球图',
                     },*/
                    /*  backgroundColor: '#ffffff',*/
                    tooltip: {
                        formatter: function(param) {
                            if(param.seriesName==='亮度'){
                                return param.seriesName + '\n'
                                    + param.name + '\n'
                                    + param.value*100+'%';
                            }else if(param.seriesName==='色相'){
                                return param.seriesName + '\n'
                                    + param.name + '\n'
                                    + param.value*100;
                            }else if(param.seriesName==='伽马'){
                                return param.seriesName + '\n'
                                    + param.name + '\n'
                                    + _self.gamma;
                            }else if(param.seriesName==='色温'){
                                return param.seriesName + '\n'
                                    + param.name + '\n'
                                    + param.value+'k';
                            }
                            else{
                                return "";
                            }
                        },
                    },

                    series: [{
                        type: 'liquidFill',
                        name: '亮度',
                        radius: '40%',
                        color: ['#195ba6'],
                        center: ['20%', '23%'],
                        data: [_self.bright/100],
                        backgroundStyle: {
                            borderWidth: 2,
                            borderColor: '#1789fb',
                            color: '#1c233f',
                        },
                        outline: {
                            itemStyle: {
                                borderWidth: 5,
                                borderColor: '#1789fb',
                                borderType: 'dashed',
                            }
                        },
                        label: {
                            normal: { //此处没有生效，本地生效 1
                                formatter:  function(param) {
                                    return param.seriesName + '\n'
                                        + param.name + '\n'
                                        + param.value*100+"%";
                                },
                                textStyle: {
                                    fontSize: 18,
                                    color: '#e6e6e6',
                                },
                            },
                        },
                    },
                        {

                            type: 'liquidFill',
                            name: '色温',
                            radius: '40%',
                            color: ['#8a7e4e'],
                            center: ['80%', '23%'],
                            data: [_self.chroma],
                            backgroundStyle: {
                                borderWidth: 2,
                                borderColor: '#f0d25c',
                                color: '#1c233f',
                            },
                            outline: {
                                itemStyle: {
                                    borderWidth: 5,
                                    borderColor: '#f0d25c',
                                    borderType: 'dashed',
                                }
                            },
                            label: {
                                normal: { // 同上 3
                                    formatter: function(param) {
                                        return param.seriesName + '\n'
                                            + param.name + '\n'
                                            +param.value +'k';
                                    },
                                    textStyle: {
                                        fontSize: 18,
                                        color: '#e6e6e6',
                                    },
                                },
                            },

                        },
                        {
                            type: 'liquidFill',
                            name: '伽马',
                            radius: '40%',
                            color: ['#195ba6'],
                            center: ['20%', '70%'],
                            data: [1],
                            backgroundStyle: {
                                borderWidth: 2,
                                borderColor: '#1789fb',
                                color: '#1c233f',
                            },
                            outline: {
                                itemStyle: {
                                    borderWidth: 5,
                                    borderColor: '#1789fb',
                                    borderType: 'dashed',
                                }
                            },
                            label: {
                                normal: { //此处没有生效，本地生效 4
                                    formatter:  function(param) {
                                        return param.seriesName + '\n'
                                            + param.name + '\n'
                                            + _self.gamma;
                                    },
                                    textStyle: {
                                        fontSize: 18,
                                        color: '#e6e6e6',
                                    },
                                },
                            },
                        },
                        {

                            type: 'liquidFill',
                            name: '色相',
                            radius: '40%',
                            color: ['#8a7e4e'],
                            center: ['80%', '70%'],
                            data: [_self.hue/100],
                            backgroundStyle: {
                                borderWidth: 2,
                                borderColor: '#f0d25c',
                                color: '#1c233f',
                            },
                            outline: {
                                itemStyle: {
                                    borderWidth: 5,
                                    borderColor: '#f0d25c',
                                    borderType: 'dashed',
                                }
                            },
                            label: {
                                normal: { // 同上 6
                                    formatter: function(param) {
                                        return param.seriesName + '\n'
                                            + param.name + '\n'
                                            + param.value*100;
                                    },
                                    textStyle: {
                                        fontSize: 18,
                                        color: '#e6e6e6',
                                    },
                                },
                            },

                        }
                    ]
                };

                // 电压
                /*   let dataDyArr =_self.voltage;
                   let dataArr1 = dataDyArr / 3;*/
                let colorSet1 = {
                    color: '#468EFD'
                };
                let option1 = {
                    /*   backgroundColor: '#ffffff',*/
                    tooltip: {
                        formatter: function () {
                            return "电压<br/>" + _self.voltage + "V";
                        }
                    },

                    series: [
                        {
                            name: "传感器电压",
                            type: "gauge",
                            center: ['50%', '20%'],
                            radius: '12%',
                            splitNumber: 10,
                            axisLine: {
                                lineStyle: {
                                    color: [
                                        [_self.voltage/ 300, colorSet1.color],
                                        [1, "#111F42"]
                                    ],
                                    width: 5
                                }
                            },
                            axisLabel: {
                                show: false,
                            },
                            axisTick: {
                                show: false,

                            },
                            splitLine: {
                                show: false,
                            },
                            itemStyle: {
                                show: false,
                            },
                            detail: {
                                formatter: function (value) {
                                    if (value !== 0) {
                                        let num = Math.round(value*3);
                                        /* return parseInt(num).toFixed(0) + "V";*/
                                        return parseInt(num).toFixed(0) === 'NaN' ? '' : parseInt(num).toFixed(0) + "V";
                                    } else {
                                        return " ";
                                    }
                                },
                                offsetCenter: [0, 45],
                                textStyle: {
                                    padding: [0, 0, 0, 0],
                                    fontSize: 13,
                                    fontWeight: '700',
                                    color: "#ffffff"
                                }
                            },
                            title: { //标题
                                show: true,
                                offsetCenter: [0, 27], // x, y，单位px
                                textStyle: {
                                    color: "#ffffff",
                                    fontSize: 12, //表盘上的标题文字大小
                                    fontWeight: 400,
                                    fontFamily: 'PingFangSC'
                                }
                            },
                            data: [{
                                name: "电压",
                                value: _self.voltage/3,
                            }],
                            pointer: {
                                show: true,
                                length: '90%',
                                radius: '30%',
                                width: 3, //指针粗细
                            },
                            animationDuration: 5000,
                        },
                        {
                            name: '外部刻度',
                            type: 'gauge',
                            center: ['50%', '20%'],
                            radius: '16%',
                            min: 0, //最小刻度
                            max: 300, //最大刻度
                            splitNumber: 10, //刻度数量
                            startAngle: 225,
                            endAngle: -45,
                            axisLine: {
                                show: true,
                                lineStyle: {
                                    width: 1,
                                    color: [
                                        [1, 'rgba(0,0,0,0)']
                                    ]
                                }
                            }, //仪表盘轴线
                            axisLabel: {
                                show: true,
                                color: '#ffffff',
                                distance: 10,
                                fontSize: 5,
                                formatter: function (v) {
                                    switch (v + '') {
                                        case '0':
                                            return '0';
                                        case '10':
                                            return '10';
                                        case '20':
                                            return '20';
                                        case '30':
                                            return '30';
                                        case '40':
                                            return '40';
                                        case '50':
                                            return '50';
                                        case '60':
                                            return '60';
                                        case '70':
                                            return '70';
                                        case '80':
                                            return '80';
                                        case '90':
                                            return '90';
                                        case '100':
                                            return '100';
                                        case '110':
                                            return '110';
                                        case '120':
                                            return '120';
                                        case '130':
                                            return '130';
                                        case '140':
                                            return '140';
                                        case '150':
                                            return '150';
                                        case '160':
                                            return '160';
                                        case '170':
                                            return '170';
                                        case '180':
                                            return '180';
                                        case '190':
                                            return '190';
                                        case '200':
                                            return '200';
                                        case '210':
                                            return '210';
                                        case '220':
                                            return '220';
                                        case '230':
                                            return '230';
                                        case '240':
                                            return '240';
                                        case '250':
                                            return '250';
                                        case '260':
                                            return '260';
                                        case '270':
                                            return '270';
                                        case '280':
                                            return '280';
                                        case '290':
                                            return '290';
                                        case '300':
                                            return '300';
                                    }
                                }
                            }, //刻度标签。
                            axisTick: {
                                show: true,
                                splitNumber: 5,
                                lineStyle: {
                                    color: colorSet1.color, //用颜色渐变函数不起作用
                                    width: 1,
                                },
                                length: -7
                            }, //刻度样式
                            splitLine: {
                                show: true,
                                length: -10,
                                lineStyle: {
                                    color: colorSet1.color, //用颜色渐变函数不起作用
                                }
                            }, //分隔线样式
                            detail: {
                                show: false
                            },
                            pointer: {
                                show: false
                            }
                        },
                    ]
                };


                // 电流
                /* let dataArr2 = _self.current;*/
                let colorSet2 = {
                    color: '#468EFD'
                };
                let option2 = {
                    /*   backgroundColor: '#ffffff',*/
                    tooltip: {
                        formatter: "{b}<br/>{c}A"
                    },
                    series: [
                        // 电流
                        {
                            name: "传感器电流",
                            type: "gauge",
                            center: ['50%', '10%'],
                            radius: '12%',

                            splitNumber: 10,
                            axisLine: {
                                lineStyle: {
                                    color: [
                                        [_self.current / 100, colorSet2.color],
                                        [1, "#111F42"]
                                    ],
                                    width: 5
                                }
                            },
                            axisLabel: {
                                show: false,
                            },
                            axisTick: {
                                show: false,

                            },
                            splitLine: {
                                show: false,
                            },
                            itemStyle: {
                                show: false,
                            },
                            detail: {
                                formatter: function (value) {
                                    if (value !== 0) {
                                        let num = Math.round(value);
                                        return (parseInt(num).toFixed(0) === 'NaN' ? '' : parseInt(num).toFixed(0) + "A" );
                                    } else {
                                        return " ";
                                    }
                                },
                                offsetCenter: [0, 45],
                                textStyle: {
                                    padding: [0, 0, 0, 0],
                                    fontSize: 13,
                                    fontWeight: '700',
                                    color: "#ffffff"
                                }
                            },
                            title: { //标题
                                show: true,
                                offsetCenter: [0, 27], // x, y，单位px
                                textStyle: {
                                    color: "#ffffff",
                                    fontSize: 12, //表盘上的标题文字大小
                                    fontWeight: 400,
                                    fontFamily: 'PingFangSC'
                                }
                            },
                            data: [{
                                name: "电流",
                                value: _self.current,
                            }],
                            pointer: {
                                show: true,
                                length: '90%',
                                radius: '30%',
                                width: 3, //指针粗细
                            },
                            animationDuration: 5000,
                        },
                        {
                            name: '外部刻度',
                            type: 'gauge',
                            center: ['50%', '10%'],
                            radius: '16%',
                            min: 0, //最小刻度
                            max: 100, //最大刻度
                            splitNumber: 10, //刻度数量
                            startAngle: 225,
                            endAngle: -45,
                            axisLine: {
                                show: true,
                                lineStyle: {
                                    width: 1,
                                    color: [
                                        [1, 'rgba(0,0,0,0)']
                                    ]
                                }
                            }, //仪表盘轴线
                            axisLabel: {
                                show: true,
                                color: '#ffffff',
                                distance: 10,
                                fontSize: 5,
                                formatter: function (v) {
                                    switch (v + '') {
                                        case '0':
                                            return '0';
                                        case '10':
                                            return '10';
                                        case '20':
                                            return '20';
                                        case '30':
                                            return '30';
                                        case '40':
                                            return '40';
                                        case '50':
                                            return '50';
                                        case '60':
                                            return '60';
                                        case '70':
                                            return '70';
                                        case '80':
                                            return '80';
                                        case '90':
                                            return '90';
                                        case '100':
                                            return '100';
                                    }
                                }
                            }, //刻度标签。
                            axisTick: {
                                show: true,
                                splitNumber: 5,
                                lineStyle: {
                                    color: colorSet2.color, //用颜色渐变函数不起作用
                                    width: 1,
                                },
                                length: -7
                            }, //刻度样式
                            splitLine: {
                                show: true,
                                length: -10,
                                lineStyle: {
                                    color: colorSet2.color, //用颜色渐变函数不起作用
                                }
                            }, //分隔线样式
                            detail: {
                                show: false
                            },
                            pointer: {
                                show: false
                            }
                        },
                    ]
                };


                let option3 = {
                    /* title: {
                         text: '水球图',
                     },*/
                    /*backgroundColor: '#ffffff',*/
                    tooltip: {
                        formatter:  function(param) {
                            return param.seriesName + '\n'
                                + param.name + '\n'
                                + param.value*100;
                        },
                    },
                    series: [{
                        type: 'liquidFill',
                        name: '环境亮度',
                        radius: '25%',
                        color: ['#195ba6'],
                        center: ['20%', '23%'],
                        data: [_self.envi_bright/100],
                        backgroundStyle: {
                            borderWidth: 2,
                            borderColor: '#1789fb',
                            color: '#1c233f',
                        },
                        outline: {
                            itemStyle: {
                                borderWidth: 5,
                                borderColor: '#1789fb',
                                borderType: '',
                            }
                        },
                        label: {
                            normal: {
                                formatter:  function(param) {
                                    return param.seriesName + '\n'
                                        + param.name + '\n'
                                        + param.value*100;
                                },
                                textStyle: {
                                    fontSize: 14,
                                    color: '#e6e6e6',
                                },
                            },
                        },
                    },
                        {

                            type: 'liquidFill',
                            name: '温度',
                            radius: '25%',
                            color: ['#884046'],
                            center: ['50%', '23%'],
                            data: [_self.temp/100],
                            backgroundStyle: {
                                borderWidth: 2,
                                borderColor: '#eb5c4d',
                                color: '#1c233f',
                            },
                            outline: {
                                itemStyle: {
                                    borderWidth: 5,
                                    borderColor: '#eb5c4d',
                                    borderType: '',
                                }
                            },
                            label: {
                                normal: {
                                    formatter: function(param) {
                                        return param.seriesName + '\n'
                                            + param.name + '\n'
                                            + param.value*100;
                                    },
                                    textStyle: {
                                        fontSize: 16,
                                        color: '#e6e6e6',
                                    },
                                },
                            },

                        },
                        {
                            type: 'liquidFill',
                            name: '湿度',
                            radius: '25%',
                            color: ['#8a7e4e'],
                            center: ['80%', '23%'],
                            data: [_self.humidity/100],
                            backgroundStyle: {
                                borderWidth: 2,
                                borderColor: '#f0d25c',
                                color: '#1c233f',
                            },
                            outline: {
                                itemStyle: {
                                    borderWidth: 5,
                                    borderColor: '#f0d25c',
                                    borderType: '',
                                }
                            },
                            label: {
                                normal: {
                                    formatter: function(param) {
                                        return param.seriesName + '\n'
                                            + param.name + '\n'
                                            + param.value*100;
                                    },
                                    textStyle: {
                                        fontSize: 16,
                                        color: '#e6e6e6',
                                    },
                                },
                            },

                        }
                    ]
                };

                // 基于准备好的dom，初始化echarts实例
                var myChart = echarts.init(document.getElementById('tuopu'));

                //获取dom容器
                let myChart0 = echarts.init(document.getElementById('chartmain0'));
                // 使用刚指定的配置项和数据显示图表。
                myChart0.setOption(option0);

                let myChart1 = echarts.init(document.getElementById('chartmain1'));
                myChart1.setOption(option1);

                let myChart2 = echarts.init(document.getElementById('chartmain2'));
                myChart2.setOption(option2);

                let myChart3 = echarts.init(document.getElementById('chartmain3'));
                myChart3.setOption(option3);

                //数据拆分
                var ledParasJson = "";
                var senderOrderList = [] ;

                //发送卡初始X值
                var XInitSender = 200;

                //发送卡初始Y值
                var YInitSender = 830;

                //网口初始X值-X轴上单个偏移差值为60一个单位(向右+60)
                var XInitPort = 250;
                //网口初始Y值-Y轴上单个偏移差值为70一个单位（向下-70）
                var YInitPort = 910;
                //网口最大总数量
                var MaxPort = 16;

                //X轴上单个偏移差值为60一个单位(向右+60)----箱体（同网口）
                var XInit = [560,630,700,770,840,910,980,1050];
                //Y轴上单个偏移差值为140一个单位(向下-140)----箱体
                var YInit = [810,690,570,450,330,210,90,-30];
                //获取当前网址，如： http://localhost:8083/uimcardprj/share/meun.jsp
                var curWwwPath = window.document.location.href;
                //获取主机地址之后的目录，如： uimcardprj/share/meun.jsp
                var pathName = window.document.location.pathname;
                var pos = curWwwPath.indexOf(pathName);
                //获取主机地址，如： http://localhost:8083
                var localhostPaht = curWwwPath.substring(0, pos);
                //获取带"/"的项目名，如：/uimcardprj
                var projectName = pathName.substring(0, pathName.substr(1).indexOf('/') + 1);

                //矢量图形组
                var nodes = [{
                    x: 0,
                    y: 530,
                    nodeName: '控制卡',
                    name: '控制卡',
                    type: '播放器',
                    detail:"OK",
                    // svgPath: 'M868.48 104.96H155.52a32 32 0 0 0-32 32v538.24a32 32 0 0 0 32 32h712.96a32 32 0 0 0 32-32V136.96a32 32 0 0 0-32-32z m-32 64V390.4H187.52V168.96zM187.52 643.2V422.4h648.96v221.44z M252.8 232.96h32v74.88h-32zM334.72 232.96h32v74.88h-32zM252.8 502.4h32v74.88h-32zM334.72 502.4h32v74.88h-32zM868.48 853.12H600.96a94.72 94.72 0 0 0-56.96-56.96v-53.76h-64v53.76a94.72 94.72 0 0 0-56.96 56.96H155.52a32 32 0 1 0 0 64h267.52a94.08 94.08 0 0 0 177.92 0h267.52a32 32 0 0 0 0-64zM512 915.84a30.72 30.72 0 1 1 30.72-30.72 30.72 30.72 0 0 1-30.72 30.72z',
                    svgPath:'image://'+localhostPaht+'/images/player.png',
                    symbolSize: 100,

                }
                ]
                //连接线数组
                var links = [];
                //走线方式数组
                var portGroup = [];


                //请求后台参数
                for(var i = 0;i< _self.comlist.length;i++){
                    //获取屏幕对象
                    ledParasJson = _self.comlist[i].LEDPARAS;
                    //外围参数拓展显示
                    // console.log(ledParasJson);
                    //通用接收卡对象
                    var recParas = ledParasJson.COMMON_RECPARAS;
                    //通用模组对象
                    var modParas = ledParasJson.COMMON_MODPARAS;
                    $('#MOD_RSL').text(modParas.MOD_RSLT);
                    $('#MOD_SPACE').text(modParas.MOD_SPACE+"MM");

                    $('#MOD_SCAN_NUM').text(modParas.SCAN_NUM+"SCAN");
                    //通用模组-灯光参数对象
                    var lamp_Para =modParas.LAMP_PARA;
                    $('#LAMP_PARA_STYLE').text(lamp_Para.STYLE);
                    $('#LAMP_PARA_BRIGHT').text(lamp_Para.BRIGHT);
                    $('#LAMP_PARA_WAVELEN').text(lamp_Para.WAVELEN);
                    $('#LAMP_PARA_ANGLE').text("<="+lamp_Para.ANGLE+"度");
                    $('#LAMP_PARA_ANTISTATIC').text("<"+lamp_Para.ANTISTATIC+"V");
                    $('#LAMP_PARA_LEAKAGE_CURRENT').text("<"+lamp_Para.LEAKAGE_CURRENT+"uA");
                    //箱体ID
                    $('#boxTitle').text(recParas.BOX_NAME);
                    //箱体类型
                    $('#productTitle').text(recParas.BOX_TYPE);
                    //模组个数
                    $('#MOD_ORDER').text(recParas.MOD_ORDER);
                    //接收卡带载面积计算：
                    var Mod_Area_Group = modParas.MOD_SIZE.split("*");
                    for(var s = 0;s<Mod_Area_Group.length;s++){
                        Mod_Area_Group[s] = Mod_Area_Group[s].replace(/[^0-9]/ig,"");
                    }
                    //接收卡带载面积：
                    $('#REC_Carrying_Area').text(parseInt((Mod_Area_Group[0]*Mod_Area_Group[1]*recParas.MODULE_CNT)/10000)+"mm²");

                    //驱动IC
                    $('#ICSYLE').text(modParas.ICSYLE);

                    //发送卡数组
                    senderOrderList = ledParasJson.SENDER_ORDER;
                    //遍历发送卡列表可知发送卡数量
                    for(var i = 0;i<senderOrderList.length;i++){
                        //当前发送卡信息
                        var senderOrder = senderOrderList[i];
                        //接收卡版本号
                        if(senderOrder.VER === '' ||senderOrder.VER == null){
                            $('#REC_VER').text("暂无数据");
                        }else{
                            $('#REC_VER').text(senderOrder.VER);
                        }
                        //发送卡信息
                        var sender ={
                            x: XInitSender,
                            y: YInitSender-i*300,
                            symbolSize: [80,50],
                            nodeName: senderOrder.ID,
                            name: senderOrder.ID,
                            type: '发送卡',
                            detail:'ok',
                            // svgPath: 'M 0 265.6 v 448 h 192 v 64 h 128 v -64 h 384 v 64 h 128 v -64 h 192 v -448 H 0 Z m 960 384 H 64 v -320 h 896 v 320 Z m -64 -256 h -256 v 192 h 256 v -192 Z m -64 128 h -128 v -64 h 128 v 64 Z m -640 -64 H 128 v -64 h 64 v 64 Z m 128 0 H 256 v -64 h 64 v 64 Z m 128 0 h -64 v -64 h 64 v 64 Z m -256 128 H 128 v -64 h 64 v 64 Z m 128 0 H 256 v -64 h 64 v 64 Z m 128 0 h -64 v -64 h 64 v 64 Z m 128 -128 h -64 v -64 h 64 v 64 Z m 0 128 h -64 v -64 h 64 v 64 Z'
                            svgPath:'image://'+localhostPaht+'/images/senderReal.png'
                        }
                        //新增拓扑连接线
                        var lineSender = {
                            source: '控制卡',
                            target: senderOrder.ID,
                            name: '连通',
                            type: '网线',
                            nodeName: '主网线'
                        }
                        //连接线新增
                        links.push(lineSender);
                        //矢量图形新增
                        nodes.push(sender);
                        //获取走线端口数量
                        var portNum = senderOrder.PORT_ORDER.length;
                        //遍历走线接口
                        for(var j = 0;j<portNum;j++){

                            //走线详情信息
                            var port = senderOrder.PORT_ORDER[j];

                            //新增归属关系
                            var hiddenLine = {
                                source: senderOrder.ID,
                                target: port.ID+senderOrder.ID,
                                name: '连通',
                                type: 0,
                                nodeName: '主网线'
                            }
                            links.push(hiddenLine);
                            //判断索引是否能够取余4来判断在当前X轴的Y位置
                            if((j+1)%4 == 0){
                                //当前port对象
                                var singlePort = {
                                    //X轴上单个偏移差值为60一个单位(向右+60)
                                    x: XInitPort+parseInt((j+1)/4-1)*60,
                                    //Y轴上单个偏移差值为70一个单位（向下-70）
                                    y: YInitPort-3*50-i*300,
                                    symbolSize: 20,
                                    nodeName: port.ID,
                                    name: port.ID+senderOrder.ID,
                                    type: '网口',
                                    detail:null,
                                    svgPath: 'path://M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
                                };
                                //走线方式数组添加
                                nodes.push(singlePort);
                            }else{
                                var singlePort = {
                                    //X轴上单个偏移差值为60一个单位(向右+60)
                                    x: XInitPort+parseInt((j+1)/4)*60,
                                    //Y轴上单个偏移差值为70一个单位（向下-70）
                                    y: YInitPort-(j)%4*50-i*300,
                                    symbolSize: 20,
                                    nodeName: port.ID,
                                    name: port.ID+senderOrder.ID,
                                    type: '网口',
                                    detail:null,
                                    svgPath: 'path://M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
                                };
                                nodes.push(singlePort);
                            }
                            //遍历单个走线口的箱体信息
                            for(var boxindex = 0;boxindex < port.BOX.length;boxindex++){

                                var box = port.BOX[boxindex];

                                //新增归属关系
                                var hiddenLine = {
                                    source: senderOrder.ID,
                                    target: senderOrder.ID+box.ID+boxindex,
                                    name: '连通',
                                    type: 0,
                                    nodeName: '主网线'
                                }
                                links.push(hiddenLine);

                                //判断箱体顺序是否为1能和端口直连
                                if(box.ORDER == 1){
                                    var box_State;
                                    //判断箱体状态
                                    if(box.BOX_STATE == '1'){
                                        box_State = "连通"
                                    }else if(box.BOX_STATE == '2'){
                                        box_State = "警告"
                                    }else if(box.BOX_STATE == '3'){
                                        box_State = "故障"
                                    }else{
                                        box_State = "无法检测"
                                    }
                                    var portBox = {
                                        source: port.ID+senderOrder.ID,
                                        target: senderOrder.ID+box.ID+boxindex,
                                        name: box_State,
                                        type: '网线',
                                        nodeName: '网线'
                                    }
                                    //端口连接线新增
                                    links.push(portBox);
                                }

                                //新增归属关系
                                var hiddenLineForPort = {
                                    source: port.ID+senderOrder.ID,
                                    target: senderOrder.ID+box.ID+boxindex,
                                    name: '连通',
                                    type: 0,
                                    nodeName: '主网线'
                                }
                                links.push(hiddenLineForPort);
                                //判断小于最后一个箱体之间的相互串联
                                if(box.ORDER < port.BOX.length){
                                    var boxNext = port.BOX[boxindex+1]
                                    //当下个箱体为空时不执行
                                    if(boxindex+1 < port.BOX.length){
                                        var box_State;
                                        //判断箱体状态
                                        if(boxNext.BOX_STATE === '1'){
                                            box_State = "连通"
                                        }else if(boxNext.BOX_STATE === '2'){
                                            box_State = "警告"
                                        }else if(boxNext.BOX_STATE === '3'){
                                            box_State = "故障"
                                        }else{
                                            box_State = "无法检测"
                                        }
                                        var portBox = {
                                            source: senderOrder.ID+box.ID+boxindex,
                                            target: senderOrder.ID+boxNext.ID+(boxindex+1),
                                            name: box_State,
                                            type: '串联',
                                            nodeName: '串联'
                                        }
                                        links.push(portBox);
                                    }
                                }
                                //单个箱体的信息
                                var singleBox = {
                                    x: XInit[box.XPOS-1],
                                    y: YInit[box.YPOS-1],
                                    symbolSize: 70,
                                    nodeName: "箱体"+box.ID,
                                    name: senderOrder.ID+box.ID+boxindex,
                                    type: '箱体',
                                    detail:box,
                                    svgPath: 'M651.636364 1024V558.545455h558.545454v465.454545z '
                                }
                                nodes.push(singleBox);
                            }

                        }

                        //遍历未连接的端口显示----默认发送卡有16个端口
                        for(var unPortNumIndex = portNum+1;unPortNumIndex < 17;unPortNumIndex++){
                            //新增归属关系
                            var hiddenLine = {
                                source: senderOrder.ID,
                                target: unPortNumIndex+senderOrder.ID,
                                name: '未连通',
                                type: 0,
                                nodeName: '主网线'
                            }
                            links.push(hiddenLine);
                            //判断索引是否能够取余4来判断在当前X轴的Y位置
                            if((unPortNumIndex)%4 == 0){
                                //当前port对象
                                var singlePort = {
                                    //X轴上单个偏移差值为60一个单位(向右+60)
                                    x: XInitPort+parseInt((unPortNumIndex)/4-1)*42,
                                    //Y轴上单个偏移差值为70一个单位（向下-70）
                                    y: YInitPort-3*50-i*300,
                                    symbolSize: 20,
                                    nodeName: "P"+unPortNumIndex,
                                    name: unPortNumIndex+senderOrder.ID,
                                    type: '未连接网口',
                                    detail:null,
                                    svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
                                };
                                //走线方式数组添加
                                nodes.push(singlePort);
                            }else{
                                var singlePort = {
                                    //X轴上单个偏移差值为60一个单位(向右+60)
                                    x: XInitPort+parseInt((unPortNumIndex)/4)*42,
                                    //Y轴上单个偏移差值为70一个单位（向下-70）
                                    y: YInitPort-(unPortNumIndex-1)%4*50-i*300,
                                    symbolSize: 20,
                                    nodeName: "P"+unPortNumIndex,
                                    name: unPortNumIndex+senderOrder.ID,
                                    type: '未连接网口',
                                    detail:null,
                                    svgPath: 'M509.92 176C325.504 176 176 325.504 176 509.92c0 184.416 149.504 333.92 333.92 333.92 184.416 0 333.92-149.504 333.92-333.92C843.84 325.504 694.32 176 509.92 176z m0 48c157.904 0 285.92 128 285.92 285.92 0 157.904-128.016 285.92-285.92 285.92C352 795.84 224 667.808 224 509.92 224 352 352 224 509.92 224z m0 96C405.024 320 320 405.024 320 509.92c0 104.88 85.024 189.92 189.92 189.92 104.88 0 189.92-85.04 189.92-189.92 0-104.896-85.04-189.92-189.92-189.92z',
                                };
                                nodes.push(singlePort);
                            }
                        }
                    }

                }


                //判断更新发送卡字段是否为空
                if(typeof (senderstatuslist)!="undefined"){
                    //遍历该数组的发送卡
                    for(var senderListIndex = 0;senderListIndex < senderstatuslist.length;senderListIndex++){
                        //判断发送卡的状态是否离线
                        if(senderstatuslist[senderListIndex].status != "1"){
                            for (var i = 0; i < nodes.length; i++) {
                                if(nodes[i].type === '发送卡'){
                                    if(nodes[i].nodeName === senderstatuslist[senderListIndex].senderId){
                                        nodes[i].detail = 'uncheck'
                                    }
                                }
                            }
                            for(var s = 0;s < links.length;s++){
                                if(links[s].target === senderstatuslist[senderListIndex].senderId){
                                    links[s]. name = "无法检测";
                                }
                                //当原设备是有问题发送卡
                                if(links[s].source === senderstatuslist[senderListIndex].senderId){

                                    for(var ok = 0;ok < links.length;ok++){
                                        //有问题网口
                                        if(links[s].target === links[ok].source){
                                            links[ok]. name = "无法检测";
                                            //有问题的直连箱体
                                            for(var rts = 0;rts < links.length;rts++){
                                                if(links[ok].target === links[rts].source){
                                                    links[rts]. name = "无法检测";
                                                }
                                            }
                                        }
                                    }
                                }

                            }
                        }
                    }
                }

                // data = jQuery.parseJSON(data);
                // dataType指明了返回数据为json类型，故不需要再反序列化
                //拓扑图形实现
                var charts = {
                    //拓扑模块
                    nodes: [],
                    //目标连接线
                    links: [],
                    //连通线
                    linesData: [],
                    //无法检测线
                    unchecklinesData:[],
                    //警告线
                    warninglinesData:[],
                    //故障线
                    faultlinesData:[]
                }


                var dataMap = new Map();
                //遍历SVG图形
                for (var j = 0; j < nodes.length; j++) {
                    const {
                        x,
                        y,
                        nodeName,
                        name,
                        type,
                        detail,
                        svgPath,
                        symbolSize
                    } = nodes[j];
                    if(type == '箱体'){
                        var BoxColor ;
                        var BoxEmColor ;
                        //判断箱体状态
                        if(detail == 'uncheck'){
                            BoxColor = '#595857'
                            BoxEmColor = '#e9e4d4'
                        }else if(detail.BOX_STATE === '1'){
                            BoxColor = '#043c58'
                            BoxEmColor = '#1D5D76'
                        }else if(detail.BOX_STATE === '2'){
                            BoxColor = 'orange'
                            BoxEmColor = '#ffec47'
                        }else if(detail.BOX_STATE === '3'){
                            BoxColor = '#a73836'
                            BoxEmColor = '#b94047'
                        }else{
                            BoxColor = '#595857'
                            BoxEmColor = '#e9e4d4'
                        }
                        var node = {
                            nodeName,
                            name,
                            type,
                            detail,
                            value: [x, y],
                            symbolSize: symbolSize || 50,
                            symbol: 'path://' + svgPath,
                            label:{
                                position: ['9%', '42%'],
                                fontSize:20
                            },
                            itemStyle: {
                                borderColor: 'rgba(147, 235, 248, 1)',
                                borderWidth: 3,
                                color: BoxColor,
                                emphasis: {
                                    color: BoxEmColor
                                },
                            }
                        }
                        dataMap.set(nodes[j].name, [x, y])
                        charts.nodes.push(node)
                    }else if(type == '未连接网口'){
                        var node = {
                            nodeName,
                            name,
                            type,
                            detail,
                            value: [x, y],
                            symbolSize: symbolSize || 50,
                            symbol: 'path://' + svgPath,
                            itemStyle: {
                                color: '#75878a',
                                emphasis: {
                                    color: '#808080'
                                },
                            }
                        }
                        dataMap.set(nodes[j].name, [x, y])
                        charts.nodes.push(node)
                    }else{
                        var node = {
                            nodeName,
                            name,
                            type,
                            detail,
                            value: [x, y],
                            symbolSize: symbolSize || 50,
                            symbol: svgPath,
                            itemStyle: {
                                color: '#468efd',
                                emphasis: {
                                    color: '#7ca9ee'
                                },
                            }
                        }
                        dataMap.set(nodes[j].name, [x, y])
                        charts.nodes.push(node)
                    }
                }
                //判断网口的索引是否大于4
                var sopindex = 1;
                //遍历目标连接线
                for (var i = 0; i < links.length; i++) {
                    var link;
                    if(links[i].type == 0){
                        link = {
                            source: links[i].source,
                            target: links[i].target,
                            type: '',
                            nodeName: '',
                            label: {
                                show:false
                            },
                            lineStyle :{
                                width: 0, // 线宽是0
                                color: 'rgba(0, 0, 0, 0)' // 线的颜色是透明的
                            },
                        }
                        charts.links.push(link);
                    }else{

                        var lineColor ;
                        var lines;
                        // 组装动态移动的效果数据
                        //拐角线的重组
                        if(links[i].nodeName == "网线"){
                            var SourceX = dataMap.get(links[i].source)[0];
                            var SourceY = dataMap.get(links[i].source)[1];
                            var TategerX = dataMap.get(links[i].target)[0];
                            //当目标Y值小于YInit[4]，该箱体已经在第五组
                            var TategerY = dataMap.get(links[i].target)[1];
                            //第一个点--在网口出来的位置
                            var Source0;
                            //第二个点--在网口上方的位置
                            var Source ;
                            //第三个点--在箱体上方的位置
                            var Target;
                            //当目标Y坐标小于Y轴第四个箱体的Y坐标
                            if(TategerY < YInit[4] && SourceY > YInitPort - 151){
                                Source0 = [SourceX+sopindex*7,SourceY]
                                Source = [SourceX-sopindex*21,SourceY-sopindex*198]
                                Target = [TategerX,SourceY-sopindex*198]
                            }
                            //当源坐标Y坐标等于第一行时
                            else if(SourceY > YInitPort - 151){
                                Source0 = [SourceX+sopindex*7,SourceY]
                                Source = [SourceX+sopindex*7,SourceY+sopindex*66]
                                Target = [TategerX,SourceY+sopindex*66]
                            }
                            else{
                                Source0 = [SourceX+sopindex*7,SourceY]
                                Source = [SourceX+sopindex*7,TategerY+sopindex*66]
                                Target = [TategerX,TategerY+sopindex*66]
                            }
                            lines = {
                                coords:[
                                    dataMap.get(links[i].source),
                                    Source0,
                                    Source,
                                    Target,
                                    dataMap.get(links[i].target)
                                ],
                                type: links[i].type,
                                nodeName: links[i].nodeName,
                            };
                            sopindex++;
                            if(s>4){
                                sopindex = 1;
                            }
                        }else if(links[i].nodeName == "主网线"){
                            var SourceX = dataMap.get(links[i].source)[0];
                            var SourceY = dataMap.get(links[i].source)[1];
                            var TategerX = dataMap.get(links[i].target)[0];
                            var TategerY = dataMap.get(links[i].target)[1];

                            if(SourceY == TategerY){
                                lines = {
                                    coords:[
                                        dataMap.get(links[i].source),
                                        dataMap.get(links[i].target)
                                    ],
                                    type: links[i].type,
                                    nodeName: links[i].nodeName,
                                };
                            }else{
                                var center = [SourceX,TategerY];
                                lines = {
                                    coords:[
                                        dataMap.get(links[i].source),
                                        center,
                                        dataMap.get(links[i].target)
                                    ],
                                    type: links[i].type,
                                    nodeName: links[i].nodeName,
                                };
                            }

                            console.log(dataMap.get(links[i].source));
                            console.log(dataMap.get(links[i].target));
                        } else{
                            lines = {
                                coords:[
                                    dataMap.get(links[i].source),
                                    dataMap.get(links[i].target)
                                ],
                                type: links[i].type,
                                nodeName: links[i].nodeName,
                            };
                        }

                        if(links[i].name === '连通'){
                            charts.linesData.push(lines);
                            lineColor = '#7CFC00';
                        }else if(links[i].name === '警告'){
                            charts.warninglinesData.push(lines);
                            lineColor = '#FFFF00';
                        }else if(links[i].name === '故障'){
                            charts.faultlinesData.push(lines);
                            lineColor = '#FF0000';
                        }else{
                            charts.unchecklinesData.push(lines);
                            lineColor = '#a1afc9';
                        }
                        var lineSize = 2;
                        if(links[i].type == '串联'){
                            lineSize = 6;
                        }
                        link = {
                            source: links[i].source,
                            target: links[i].target,
                            type: links[i].type,
                            nodeName: links[i].nodeName,
                            label: {
                                normal:{
                                    show:false,
                                },
                                emphasis:{
                                    symbolSize:8,
                                    fontSize:38,
                                    color:'red',
                                    show: true,
                                    formatter: links[i].name
                                }
                            },
                            lineStyle:{
                                normal: {
                                    width:lineSize,
                                    curveness:0.15,
                                    symbolSize:lineSize,
                                    color: lineColor
                                },
                                emphasis:{
                                    symbolSize:lineSize,
                                    type: 'solid',
                                    color: lineColor
                                }
                            },
                        }
                    }
                }

                option = {
                    legend: {
                        data:['连通','无法检测','警告','故障'],
                        icon: "circle",
                        textStyle: {
                            fontSize: 25,
                            fontWeight: "lighter"
                        }
                    },
                    //提示框显示
                    tooltip: {
                        //显示延迟
                        showDelay: 100,
                        backgroundColor: '#1F2D3D',
                        borderColor: '#324057',
                        borderRadius: 4,           // 提示边框圆角，单位px，默认为4
                        borderWidth: 1,            // 提示边框线宽，单位px，默认为0（无边框）
                        padding: 5,                // 提示内边距，单位px，默认各方向内边距为5，
                        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                            type : 'line',         // 默认为直线，可选为：'line' | 'shadow'
                            lineStyle : {          // 直线指示器样式设置
                                color: '#48b',
                                width: 2,
                                type: 'solid'
                            },
                            shadowStyle : {                       // 阴影指示器样式设置
                                width: 'auto',                   // 阴影大小
                                color: '#475669'  // 阴影颜色
                            }
                        },
                        //动画变换延迟单位：s
                        transitionDuration: 0.8,
                        // formatter: '设备类型:{b}<br />序列号:<br />'
                        formatter: function (item) {
                            if(item.data.type == '箱体'){
                                var box_State;
                                //判断箱体状态
                                if(item.data.detail == 'uncheck' ){
                                    box_State = "无法检测"
                                }
                                else if(item.data.detail.BOX_STATE == '1'){
                                    box_State = "连通"
                                }else if(item.data.detail.BOX_STATE == '2'){
                                    box_State = "警告"
                                }else if(item.data.detail.BOX_STATE == '3'){
                                    box_State = "故障"
                                }else{
                                    box_State = "无法检测"
                                }
                                return '设备类型:<b style="color: green;">&nbsp;&nbsp;' + item.data.type + '</b><hr />' +
                                    '设备ID:<b style="color: green;">&nbsp;&nbsp;' + item.data.nodeName + '</b><hr />' +
                                    '箱体坐标(X-Y)：<b style="color: green;">' +item.data.detail.XPOS+'-'+item.data.detail.YPOS +'</b><hr />' +
                                    '工作状态：<b style="color: green;">'+box_State+'</b><hr />';
                            }else if(item.data.type == '串联'){
                                return '';
                            }
                            else{
                                return '设备类型:<b style="color: green;">&nbsp;&nbsp;' + item.data.type + '</b><hr />' +
                                    '设备ID:<b style="color: green;">&nbsp;&nbsp;' + item.data.nodeName + '</b><hr />' ;
                            }
                        }
                    },
                    // backgroundColor: "#0B1321",
                    xAxis: {
                        min: 0,
                        max: 1000,
                        show: false,
                        type: 'value'
                    },
                    yAxis: {
                        min: 0,
                        max: 1000,
                        show: false,
                        type: 'value'
                    },
                    series: [{
                        type: 'graph',
                        coordinateSystem: 'cartesian2d',
                        focusNodeAdjacency: true, // 鼠标移到节点上突出显示节点以及节点的边和邻接节点
                        edgeSymbol: ['circle', 'arrow'],
                        edgeSymbolSize: [4, 10],
                        label: {
                            show: true,
                            position: 'bottom',
                            color: '#ffffff',
                            formatter: function (item) {
                                return item.data.nodeName
                            }
                        },
                        data: charts.nodes,
                        links: charts.links
                    },
                        //连通效果
                        {
                            name:'连通',
                            type: 'lines',
                            zlevel: 2,
                            step: "start",
                            polyline: true,
                            coordinateSystem: 'cartesian2d',
                            effect: {
                                //移动速率
                                period: 6,
                                show: true,
                                trailLength: 0.1,
                                symbol: 'arrow',
                                color: '#0c8918',
                                symbolSize: 10
                            },
                            lineStyle: {
                                type: 'solid',
                                width: 2,
                                color: '#7CFC00',
                                curveness: 0.9

                            },
                            data: charts.linesData
                        },
                        //无法检测效果
                        {
                            name:'无法检测',
                            type: 'lines',
                            zlevel: 2,
                            step: "start",
                            polyline: true,
                            coordinateSystem: 'cartesian2d',
                            effect: {
                                period: 20,
                                show: true,
                                trailLength: 0.1,
                                symbol: 'path://M547.4 512l278.2-278.2c9.8-9.8 9.8-25.6 0-35.4-9.8-9.8-25.6-9.8-35.4 0L512 476.6 233.8 198.4c-9.8-9.8-25.6-9.8-35.4 0-9.8 9.8-9.8 25.6 0 35.4L476.6 512 198.4 790.2c-9.8 9.8-9.8 25.6 0 35.4 4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3L512 547.4l278.2 278.2c4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3c9.8-9.8 9.8-25.6 0-35.4L547.4 512z',
                                color: 'red',
                                symbolSize: 20
                            },
                            lineStyle: {
                                type: 'solid',
                                width: 2,
                                color: '#595857',
                                curveness: 0.1

                            },
                            data: charts.unchecklinesData
                        },
                        //警告效果
                        {
                            name:'警告',
                            type: 'lines',
                            zlevel: 2,
                            step: "start",
                            polyline: true,
                            coordinateSystem: 'cartesian2d',
                            effect: {
                                period: 40,
                                show: true,
                                trailLength: 0.1,
                                symbol: 'path://M743.316211 54.649263l487.154526 797.157053A113.178947 113.178947 0 0 1 1133.891368 1024H159.528421A113.178947 113.178947 0 0 1 63.056842 851.806316l487.208421-797.103158A113.178947 113.178947 0 0 1 737.28 45.810526l6.036211 8.838737z m395.15621 853.369263l-487.154526-797.103158-0.754527-1.077894-1.024-0.754527a5.389474 5.389474 0 0 0-7.383579 1.778527l-487.154526 797.103158a5.389474 5.389474 0 0 0 4.581053 8.245894H1133.945263a5.389474 5.389474 0 0 0 4.581053-8.192z M646.736842 323.368421a75.290947 75.290947 0 0 1 75.075369 80.626526l-17.354106 242.903579a57.882947 57.882947 0 0 1-115.442526 0l-17.354105-242.903579A75.290947 75.290947 0 0 1 646.736842 323.368421z M646.736842 808.421053m-53.894737 0a53.894737 53.894737 0 1 0 107.789474 0 53.894737 53.894737 0 1 0-107.789474 0Z',
                                color: '#faff72',
                                symbolSize: 40
                            },
                            lineStyle: {
                                type: 'solid',
                                width: 2,
                                color: 'orange',
                                curveness: 0.1

                            },
                            data: charts.warninglinesData
                        },
                        //故障效果
                        {
                            name:'故障',
                            type: 'lines',
                            zlevel: 2,
                            step: "start",
                            polyline: true,
                            coordinateSystem: 'cartesian2d',
                            effect: {
                                period: 60,
                                show: true,
                                trailLength: 0.1,
                                symbol: 'path://M547.4 512l278.2-278.2c9.8-9.8 9.8-25.6 0-35.4-9.8-9.8-25.6-9.8-35.4 0L512 476.6 233.8 198.4c-9.8-9.8-25.6-9.8-35.4 0-9.8 9.8-9.8 25.6 0 35.4L476.6 512 198.4 790.2c-9.8 9.8-9.8 25.6 0 35.4 4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3L512 547.4l278.2 278.2c4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3c9.8-9.8 9.8-25.6 0-35.4L547.4 512z',
                                color: 'red',
                                symbolSize: 20
                            },
                            lineStyle: {
                                type: 'solid',
                                width: 2,
                                color: '#a73836',
                                curveness: 0.1

                            },
                            data: charts.faultlinesData
                        },
                    ]
                };

                // 使用刚指定的配置项和数据显示图表。
                myChart.setOption(option);
                // 处理点击事件并且弹出数据名称-params传入的参数
                myChart.on('click', function (params) {
                    if(params.data.type == '箱体'){
                        //箱体参数赋值
                        var detail = params.data.detail;
                        info_title = detail;
                        //接收卡信息
                        var rec = info_title.REC[0];
                        // console.log(rec);
                        //传感器赋值
                        $('#SENSOR_VOL').text(rec.SENSOR_VOL+"V");
                        $('#SENSOR_CURRENT').text(rec.SENSOR_CURRENT+"A");
                        $('#SENSOR_HUMI').text(rec.SENSOR_HUMI+"%RH");
                        $('#SENSOR_SMOG').text(rec.SENSOR_SMOG);
                        $('#SENSOR_TMP').text(rec.SENSOR_TMP+"℃");
                        $('#SENSOR_BRI').text(rec.SENSOR_BRI+"Lux");

                        //模组信息赋值
                        //通过遍历计算故障模组数量
                        var mod_Normal_count = 0;
                        for(var i = 0;i<rec.MOD.length;i++){
                            if(rec.MOD[i].MOD_STATE === 1){
                                mod_Normal_count++;
                            }
                        }
                        //故障模组数
                        $('#MOD_FAULT').text(rec.MOD.length-mod_Normal_count);
                        //正常模组数
                        $('#MOD_NORMAL').text(mod_Normal_count);

                        //电源赋值
                        //最大功率
                        $('#MAX_POWER').text(rec.MAX_POWER+"W/m²");
                        //电压
                        $('#VOLTAGE').text(rec.VOLTAGE+"V");
                        //实际功率
                        $('#RT_POWERDIS').text(rec.RT_POWERDIS+"W/m²");
                        //平均功率
                        $('#AVE_POWERDIS').text(rec.AVE_POWERDIS+"W/m²");

                        //接收卡信息赋值
                        //接收卡名称
                        $('#rec_Id').text(rec.REC_ID);
                        //接收卡个数
                        $('#rec_Count').text(detail.REC.length);
                        //接收卡运行时间
                        $('#rec_TOTAL_WORKTIME').text(rec.TOTAL_WORKTIME+"S");
                        //维修日志赋值

                        //驱动IC赋值
                        $('#cover').css('display','block'); //显示遮罩层
                        $('.container').attr('style', 'visibility: visible').find('.pop-up').
                        attr('style', 'visibility: visible').siblings().attr('style', 'visibility: hidden');
                    }
                });

            };
            //连接关闭的回调方法
            websocket.onclose = function (event) {
                console.log("WebSocket连接关闭");
                heartCheck.reset();
                /*  if (event.code !== 4500) {
  //4500为服务端在打开多tab时主动关闭返回的编码
                      reconnect();//重连
                  }*/
            };
            //监听窗口关闭事件，当窗口关闭时，主动去关闭WebSocket连接，防止连接还没断开就关闭窗口，server端会抛异常。
            window.onbeforeunload = function () {
                closeWebSocket();
            };

            //关闭WebSocket连接
            function closeWebSocket() {
                websocket.close();
            }


            let heartCheck = {
                timeout: 60000,//60s
                timeoutObj: null,
                reset: function () {
                    clearInterval(this.timeoutObj);
                    this.start();
                },
                start: function () {
                    this.timeoutObj = setInterval(function () {
                        if (websocket.readyState === 1) {
                            let wsHeartBeat={
                                type:99,
                                content:"HeartBeat"
                            };
                            websocket.send(JSON.stringify(wsHeartBeat));
                        }
                    }, this.timeout)
                }
            };


        },
        watch : {

        },
        methods:{
            onChangeValue1() {
                /* alert(this.value1);*/
                let ledbright={
                    type:7,
                    content:this.value1
                };
                websocket.send(JSON.stringify(ledbright));
            },

            onChangeFblvalue() {
                /* alert(this.value1);*/
                let ledfblvalue={
                    type:18,
                    content:this.fblvalue
                };
                websocket.send(JSON.stringify(ledfblvalue));
            },
            onChangeRadio() {
                /* alert(this.value1);*/
                if(this.radio==="HDMI"){
                    let ledredio={
                        type:19,
                        content:0
                    };
                    websocket.send(JSON.stringify(ledredio));
                }else if(this.radio==="DVI-D"){
                    let ledredio={
                        type:19,
                        content:1
                    };
                    websocket.send(JSON.stringify(ledredio));
                }else if(this.radio==="SDI"){
                    let ledredio={
                        type:19,
                        content:2
                    };
                    websocket.send(JSON.stringify(ledredio));
                }else{

                }


            },
            onChangeValue2() {
                /* alert(this.value1);*/
                let hueContent={
                    type:15,
                    content:this.value2
                };
                websocket.send(JSON.stringify(hueContent));
            },
            onChangeValue4() {
                /* alert(this.value1);*/
                let colorContent={
                    type:14,
                    content:this.value4
                };
                websocket.send(JSON.stringify(colorContent));
            },
            swichchange(){
                if(this.status1===true){
                    this.gmvalue="SDR->HDR";
                    this.value5=100;
                    $("#bitnum").html("20位");
                    $("#hdrslider").removeClass("sliderclass");
                    $("#hdrslidervalue").removeClass("hdrslstyle");
                    this.gmoptions=[{
                        gmvalue: '100',
                        label: 'SDR->HDR'
                    },{
                        gmvalue: '101',
                        label: 'HLG'
                    },{
                        gmvalue: '102',
                        label: 'PQ'
                    }];
                    let hdrswichonContent={
                        type:20,
                        content:1
                    };
                    websocket.send(JSON.stringify(hdrswichonContent));
                    /* $("#hdrswich").attr("disabled");*/
                }else{
                    this.gmvalue="";
                    this.value5=0;
                    $("#bitnum").html("16位");
                    $("#hdrslider").addClass("sliderclass");
                    $("#hdrslidervalue").addClass("hdrslstyle");
                    this.gmoptions=[{
                        gmvalue: '0',
                        label: '1.8'
                    },{
                        gmvalue: '1',
                        label: '2'
                    }, {
                        gmvalue: '2',
                        label: '2.2'
                    }, {
                        gmvalue: '3',
                        label: '2.4'
                    }, {
                        gmvalue: '4',
                        label: '2.5'
                    },{
                        gmvalue: '5',
                        label: '2.8'
                    },{
                        gmvalue: '6',
                        label: '3'
                    },{
                        gmvalue: '7',
                        label: 'linear'
                    }];
                    let hdrswichoffContent={
                        type:20,
                        content:0
                    };
                    websocket.send(JSON.stringify(hdrswichoffContent));
                }

            },
            changegmavalue(){
                let gmaContent={
                    type:17,
                    content:this.gmvalue
                };
                websocket.send(JSON.stringify(gmaContent));
                /*  if(this.gmvalue==="2"){
                      let ledredio={
                          type:19,
                          content:1
                      };
                      websocket.send(JSON.stringify(ledredio));
                  }else if(this.gmvalue==="DVI-D"){
                      let ledredio={
                          type:19,
                          content:1
                      };
                      websocket.send(JSON.stringify(ledredio));
                  }else if(this.gmvalue==="SDI"){
                      let ledredio={
                          type:19,
                          content:2
                      };
                      websocket.send(JSON.stringify(ledredio));
                  }else if(this.gmvalue==="HDMI"){

                  }else if(this.gmvalue==="HDMI"){

                  }else if(this.gmvalue==="HDMI"){

                  }else if(this.gmvalue==="HDMI"){

                  }*/

            },
            onChangeValue5(){
                /* alert(this.value1);*/
                let hdrContent={
                    type:21,
                    content:this.value5
                };
                websocket.send(JSON.stringify(hdrContent));
            }



            ,/**
             * tab增删方法
             * */
            handleChange_pingti(value){
                //判断上一次增删按钮改变前的值是否存在
                if(typeof(this.last_pingti_num)!="undefined"){
                    if(this.last_pingti_num>value){
                        let targetName = this.tabIndex + "";
                        let tabs = this.editableTabs;
                        let activeName = this.editableTabsValue;
                        if (activeName === targetName) {
                            tabs.forEach((tab, index) => {
                                if (tab.name === targetName) {
                                    let nextTab = tabs[index + 1] || tabs[index - 1];
                                    if (nextTab) {
                                        activeName = nextTab.name;
                                    }
                                }
                            });
                        }
                        this.editableTabsValue = activeName;
                        this.editableTabs = tabs.filter(tab => tab.name !== targetName);
                        this.pingti_num = this.pingti_num--;
                        let nowtabIndex = this.tabIndex -1;
                        this.tabIndex = nowtabIndex;
                        //绘制所属tab-图形
                        let index = this.editableTabsValue -1;
                        this.rowNum = this.editableTabs[index].contextbody.row ;
                        this.lineNum = this.editableTabs[index].contextbody.line;
                        clearCanvas();
                        draw(this.rowNum,this.lineNum);
                    }else{
                        //当前屏体数量+1
                        //新的Tab名字序号
                        let newTabName = ++this.tabIndex + '';
                        this.editableTabs.push({
                            title: '屏体 '+newTabName,
                            name: newTabName,
                            content: '屏体 '+newTabName,
                            contextbody:{
                                row: 0,
                                line: 0,
                                port: [{
                                    name:'P1',
                                    id:'',
                                    box:[
                                        {
                                            id:'',
                                            order:'',
                                            xpos:'',
                                            ypos:'',
                                            pianyiliangx:'',
                                            pianyiliangy:''
                                        }
                                    ]

                                },{
                                    name:'P2',
                                    id:'',
                                    box:[
                                        {
                                            id:'',
                                            order:'',
                                            xpos:'',
                                            ypos:'',
                                            pianyiliangx:'',
                                            pianyiliangy:''
                                        }
                                    ]

                                }]
                            }
                        });
                        // this.editableTabsValue = newTabName;
                    }
                }else{
                    //新的Tab名字序号
                    let newTabName = ++this.tabIndex + '';
                    this.editableTabs.push({
                        title: '屏体 '+newTabName,
                        name: newTabName,
                        content: '屏体 '+newTabName,
                        contextbody:{
                            row: 0,
                            line: 0,
                            port: [{
                                name:'P1',
                                id:'',
                                box:[
                                    {
                                        id:'',
                                        order:'',
                                        xpos:'',
                                        ypos:'',
                                        pianyiliangx:'',
                                        pianyiliangy:''
                                    }
                                ]

                            },{
                                name:'P2',
                                id:'',
                                box:[
                                    {
                                        id:'',
                                        order:'',
                                        xpos:'',
                                        ypos:'',
                                        pianyiliangx:'',
                                        pianyiliangy:''
                                    }
                                ]

                            }]
                        }
                    });
                    // this.editableTabsValue = newTabName;
                }
                this.last_pingti_num = value;
            },
            /**
             * 增删屏体按钮获取焦点
             * */
            becomeReadOnly(){
              $(".addtab input").attr("readOnly","true");
            },

            /**
             * tab删除方法
             * */
            removeTab(targetName) {
                let tabs = this.editableTabs;
                let activeName = this.editableTabsValue;
                if (activeName === targetName) {
                    tabs.forEach((tab, index) => {
                        if (tab.name === targetName) {
                            let nextTab = tabs[index + 1] || tabs[index - 1];
                            if (nextTab) {
                                activeName = nextTab.name;
                            }
                        }
                    });
                }
                this.editableTabsValue = activeName;
                this.editableTabs = tabs.filter(tab => tab.name !== targetName);
                this.pingti_num = this.pingti_num--;
                //绘制所属tab-图形
                let index = this.editableTabsValue -1;
                this.rowNum = this.editableTabs[index].contextbody.row ;
                this.lineNum = this.editableTabs[index].contextbody.line;
                clearCanvas();
                draw(this.rowNum,this.lineNum);
            },

            /**
             * 偏移量X改变
             * */
            handleChange_pianyiliangX(value){
                console.log(value);
            },

            /**
             * 偏移量Y改变
             * */
            handleChange_pianyiliangY(value){
                console.log(value);
            },

            /**
             * 接收卡列数计数器改变的方法
             * */
            handleRowChange(value) {
                let index = this.editableTabsValue -1;
                let lastRow = this.editableTabs[index].contextbody.row;
                let lastLine = this.editableTabs[index].contextbody.line;
                if(lastRow > value){
                    drawRow(value,lastRow,lastLine)
                }else{
                    draw(this.rowNum,this.lineNum);
                }
                this.editableTabs[index].contextbody.row =value;
            },
            /**
             * 接收卡行数计数器改变的方法
             * */
            handleLineChange(value) {
                let index = this.editableTabsValue -1;
                let lastRow = this.editableTabs[index].contextbody.row;
                let lastLine = this.editableTabs[index].contextbody.line;
                if(lastLine > value){
                    drawLine(value,lastLine,lastRow);
                }else{
                    draw(this.rowNum,this.lineNum);
                }
                this.editableTabs[index].contextbody.line =value;
            },

            /**
             *  发送卡tab转换的方法
             * **/
            senderTabClick(tab, event){
                this.rowNum = this.editableTabs[tab.index].contextbody.row ;
                this.lineNum = this.editableTabs[tab.index].contextbody.line;
                clearCanvas();
                draw(this.rowNum,this.lineNum);
            },

            /**
             * 发送卡改变方法
             * */
            changSender(value){
                console.log("发送卡改变:"+value);
            },

            /**
             * 网口选择
             * */
            choosePort(){
                let index = this.editableTabsValue -1
                area_port = this.port_radio;
                this.editableTabs[index].contextbody.port
                console.log("当前网口:"+this.port_radio);
            },

            /**
             * 顺序走线方式按钮
             * */
            connetorfirst(){
                console.log(this.editableTabs);
                drawArrow(150, 100, 400,100);
            },

            /**
             * 竖直顺序走线方式按钮
             * */
            connetorSecond(){

            },

            /**
             * 逆序走线方式按钮
             * */
            connetorthird(){

            },
            /**
             * 逆序走线方式按钮
             * */
            connetorFouth(){

            }
        },

    });

    //定义canvas图形
    var canvas = document.getElementById('box-canvas');
    var ctx = canvas.getContext("2d");

    //连接线颜色数组
    let connectLineColorGroup =
        ["#3eede7",
        "#4b5cc4",
        "#ff461f",
        "#60281e",
        "#bddd22",
        "#a4e2c6",
        "#50616d",
        "#faff72",
        "#fff2df",
        "#2ca9e1",
        "#6e7955",
        "#ee7800",
        "#e0c38c",
        "#a22041",
        "#c099a0",
        "#ffea00"]

    //当row没有改变得时候
    function drawLine(lineNum,lastLineIndex,rowNum){
        let linecha = lastLineIndex - lineNum;
        for(let i = 0;i<linecha+1;i++){
            let realLineIndex = lastLineIndex-i;
            for(let s = 0;s<rowNum;s++){
                ctx.clearRect (s*102+8,realLineIndex*62+8, 102, 62);
            }
        }
    }

    //当line没有改变得时候
    function drawRow(rowNum,lastRowIndex,lineNum){
        let rowcha = lastRowIndex-rowNum;
        for(let i = 0;i<rowcha+1;i++){
            let realRowIndex = lastRowIndex-i;
            for(let s = 0;s< lineNum;s++){
                ctx.clearRect (realRowIndex*102+8,s*62+8,102,102);
            }
        }
    }

    //生成箱体的封装方法
    function draw(rowNum,lineNum){
        if(!canvas.getContext) return;
        if(typeof (lastRowIndex)=="undefined" || typeof (lastRowIndex)==""){
            lastRowIndex = 0;
        }
        if(typeof (lastLineIndex)=="undefined" || typeof (lastLineIndex)==""){
            lastLineIndex = 0;
        }
        for(let i = 0;i<rowNum;i++){
            for(let s = 0;s<lineNum;s++ ){
                ctx.font="10px Arial";
                //绘制矩形
                //绘制图形样式
                ctx.fillStyle = "rgb(42,189,25)";
                ctx.strokeStyle = "#1685a9";
                ctx.lineWidth = 4;
                ctx.fillRect (102*i+10,s*62+10, 96, 56);
                ctx.strokeRect(102*i+10,s*62+10, 96, 56);
                ctx.fillStyle = 'red'; //填充线样式
                ctx.fillText("Hello World",101*i+30,s*61+40);
            }
        }

        // if(rowNum > lastRowIndex ||lineNum > lastLineIndex ){

        // }

        lastRowIndex = rowNum;
        lastLineIndex = lineNum;
    }

    //注：使用这个函数，需要给Canvas元素的position设为absolute。
    //要判断事件对象发生的位置，事件对象e的layerX和layerY属性表示Canvas内部坐标系中的坐标
    function getEventPosition(ev){
        var x, y;
        if (ev.layerX || ev.layerX == 0) {
            x = ev.layerX;
            y = ev.layerY;
        } else if (ev.offsetX || ev.offsetX == 0) { // Opera
            x = ev.offsetX;
            y = ev.offsetY;
        }
        return {x: x, y: y};
    }

    function drawArc(x,y) {
        ctx.beginPath();
        ctx.fillStyle = 'blue';

        // 顺时针--context.arc(x,y,r,sAngle,eAngle,counterclockwise);
        ctx.arc(x*102+62, y*62+45, 10, 0, 2 * Math.PI / 4 * 3);
        // 是否闭合路径 : 闭合路径后起点与终点会连接
        ctx.closePath();
        ctx.fill();

        ctx.font = '16px bold';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText('S',x*102+62,y*62+25);
    }

    var sourcePort = "";
    var lastPort = "";
    //箱体绘制画面点击事件
    canvas.addEventListener('click',function (e) {
        // //当前tab页面索引
        // console.log("当前页面tab"+demo.index-1);
        // //Vue内参数获取
        // console.log(demo.editableTabs);
        // demo.editableTabs[0].contextbody.port[0].id
        p = getEventPosition(e);
        //初始值--//绘制矩形ctx.fillRect (102*i+10,s*62+10, 100, 60);
        // console.log("当前网口"+area_port);
        //真实X值
        var realX = p.x-10;
        console.log("X取整数=="+Math.ceil(realX/102));
        //真实Y值
        var realY = p.y-10;
        //通过取整确定点击的箱体是第几行或者第几列
        console.log("Y取整数=="+Math.ceil(realY/62));
        let x = Math.ceil(realX/102)-1;
        let y = Math.ceil(realY/62)-1;
        if(sourcePort === ""){
            //x*102+62, y*62+45
            sourcePort = {
                x:x,
                y:y
            }
            drawArc(x,y);
        }else if(lastPort === ""){
            // drawArrow(fromX, fromY, toX, toY)
            drawArrow(sourcePort.x*102+62,sourcePort.y*62+45,x*102+62,y*62+45);
            lastPort = {
                x:x,
                y:y
            }
        }else{
            drawArrow(lastPort.x*102+62,lastPort.y*62+45,x*102+62,y*62+45);
            lastPort = {
                x:x,
                y:y
            }
        }
        // alert("第"+Math.ceil(realX/102)+"列 第"+Math.ceil(realY/62)+"行，即：（"+Math.ceil(realX/102)+","+Math.ceil(realY/62)+"）");


    },false);

    //鼠标移入
    canvas.addEventListener('mousemove',function (e){
        p = getEventPosition(e);
        //初始值--//绘制矩形ctx.fillRect (102*i+10,s*62+10, 100, 60);
        //真实X值
        var realX = p.x-10;
        //真实Y值
        var realY = p.y-10;
        //通过取整确定点击的箱体是第几行或者第几列
        // console.log("监听鼠标移动X-Y:("+Math.ceil(realX/102)+","+Math.ceil(realY/62)+")");
        // alert("第"+Math.ceil(realX/102)+"列 第"+Math.ceil(realY/62)+"行，即：（"+Math.ceil(realX/102)+","+Math.ceil(realY/62)+"）");
    },false);

    //按下鼠标按键
    canvas.addEventListener('mousedown',function (e){
        p = getEventPosition(e);

        //初始值--//绘制矩形ctx.fillRect (102*i+10,s*62+10, 100, 60);
        //真实X值
        var realX = p.x-10;
        //真实Y值
        var realY = p.y-10;
        //通过取整确定点击的箱体是第几行或者第几列
        // console.log("监听鼠标按下X-Y"+p.x+","+p.y);
        // console.log("监听鼠标按下X-Y:("+Math.ceil(realX/102)+","+Math.ceil(realY/62)+")");
        // alert("第"+Math.ceil(realX/102)+"列 第"+Math.ceil(realY/62)+"行，即：（"+Math.ceil(realX/102)+","+Math.ceil(realY/62)+"）");
    },false);

    //松开鼠标按键
    canvas.addEventListener('mouseup',function (e){
        p = getEventPosition(e);

        //初始值--//绘制矩形ctx.fillRect (102*i+10,s*62+10, 100, 60);
        //真实X值
        var realX = p.x-10;
        //真实Y值
        var realY = p.y-10;
        //通过取整确定点击的箱体是第几行或者第几列
        // console.log("监听鼠标松开X-Y:("+Math.ceil(realX/102)+","+Math.ceil(realY/62)+")");
        // alert("第"+Math.ceil(realX/102)+"列 第"+Math.ceil(realY/62)+"行，即：（"+Math.ceil(realX/102)+","+Math.ceil(realY/62)+"）");
    },false);


    /**
     *
     // 向右箭头
     drawArrow(ctx, myCanvas.width / 2, myCanvas.height / 2, myCanvas.width / 2 + 150, myCanvas.height / 2,30,30,4,'#f36');
     // 向下箭头
     drawArrow(ctx, myCanvas.width / 2, myCanvas.height / 2, myCanvas.width / 2, myCanvas.height / 2  + 150,30,30,4,'#f66');
     // 向左箭头
     drawArrow(ctx, myCanvas.width / 2, myCanvas.height / 2, myCanvas.width / 2 - 150, myCanvas.height / 2,30,30,4,'#0f6');
     // 向上箭头
     drawArrow(ctx, myCanvas.width / 2, myCanvas.height / 2, myCanvas.width / 2, myCanvas.height / 2 - 150,30,30,4,'#d6f');
     *
     * */
    function drawArrow(fromX, fromY, toX, toY) {
        theta = 30;
        headlen = 30;
        width = 10;
        color = '#f36';
        theta = typeof(theta) != 'undefined' ? theta : 30;
        headlen = typeof(theta) != 'undefined' ? headlen : 10;
        width = typeof(width) != 'undefined' ? width : 1;
        color = typeof(color) != 'color' ? color : '#000';

        // 计算各角度和对应的P2,P3坐标
        var angle = Math.atan2(fromY - toY, fromX - toX) * 180 / Math.PI,
            angle1 = (angle + theta) * Math.PI / 180,
            angle2 = (angle - theta) * Math.PI / 180,
            topX = headlen * Math.cos(angle1),
            topY = headlen * Math.sin(angle1),
            botX = headlen * Math.cos(angle2),
            botY = headlen * Math.sin(angle2);

        ctx.save();
        ctx.beginPath();

        var arrowX = fromX - topX,
            arrowY = fromY - topY;

        ctx.moveTo(arrowX, arrowY);
        ctx.moveTo(fromX, fromY);
        ctx.lineTo(toX, toY);
        arrowX = toX + topX;
        arrowY = toY + topY;
        ctx.moveTo(arrowX, arrowY);
        ctx.lineTo(toX, toY);
        arrowX = toX + botX;
        arrowY = toY + botY;
        ctx.lineTo(arrowX, arrowY);
        ctx.strokeStyle = color;
        ctx.lineWidth = width;
        ctx.stroke();
        ctx.restore();
    }

    /**
     * 清除画布的封装方法
     * */
    function clearCanvas() {
        ctx.clearRect(0,0,3000,3000);
    }

</script>

<script>
    $(function () {
        $(".index_nav ul li").each(function (index) {
            $(this).click(function () {
                $(this).addClass("nav_active").siblings().removeClass("nav_active");
                /*  $(".index_tabs .tab").eq(index).fadeIn().siblings("div").hide();*/
                $(".index_tabs .tab").eq(index).show().siblings("div").hide();
                setScrollTop(0, 0);
                /* $("body").scroll().top();*/
                if (index === 1) {
                    $(this).addClass("asz");
                    $(".index_nav ul li").removeClass("akz").removeClass("azm");
                    $("#jk").addClass("zm");
                } else if (index === 2) {
                    $(this).addClass("akz");
                    $(".index_nav ul li").removeClass("asz").removeClass("azm");
                    $("#jk").addClass("zm");
                } else {
                    $(this).addClass("azm");
                    $(".index_nav ul li").removeClass("asz").removeClass("akz");
                }
            });
        });
    });
</script>
<script type="text/javascript">
    /*new Vue().$mount('#app');*/

    //设置滑动条默认打开滑动块位于最上面，最左边
    function setScrollTop(x, y) {
        let objScroll = document.getElementById("webjk");
        if (objScroll) {
            objScroll.scrollLeft = x;
            objScroll.scrollTop = y;
        }
    }


    $(function () {
        var hour,minute,second;//时 分 秒
        hour=minute=second=0;//初始化

        var int;
        var millisecond=0;//毫秒
        /*  function Reset()//重置
          {
              window.clearInterval(int);
              millisecond=hour=minute=second=0;
              document.getElementById('timetext').value='00:00:00';
          }*/

        /*  function start()//开始
          {
              int=setInterval(timer,1000);
          }*/

        setInterval(timer,1000);
        //计时
        function timer(){
            second++;
            if(second>=60){
                second=0;
                minute=minute+1;
            }

            if(minute>=60){
                minute=0;
                hour=hour+1;
            }
            /* document.getElementById('timetext').value=hour+':'+minute+':'+second;*/
            $("#ctime").html(hour+':'+minute+':'+second);

        }

    })
</script>

<script>

    //点击close-pop这个类时取消弹框
    $('.close-pop').on('click', function () {
        $('#cover').css('display','none');
        $(this).parent().parent().hide().find('.cont-div').attr('style', 'visibility: hidden');
    })


    function aiguozhe(item){
        if($('.modedetail').css('display') === 'none'){
            $('.modedetail').attr('style','display:block;');
            $('.set-div').attr('style','z-index:1;');
        }else{
            $(".modedetail").hide();
            $('.set-div').attr('style','z-index:3;');
        }
    }
</script>
</html>